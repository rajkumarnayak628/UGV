if (self.CavalryLogger) { CavalryLogger.start_js(["cf45U"]); }

__d("MSearchKeywordsConst",[],(function a(b,c,d,e,f,g){f.exports={keywordType:"keyword",keywordTypes:{celebrity:"celebrity",trending:"trending",keyword:"keyword",football:"am_football",photos:"photos",videos:"videos",hashtag:"hashtag",local:"local",localCategory:"local_category",company:"company",movie:"movie",happeningNow:"happening_now",link:"link",specialIntentGeneric:"special_intent_gener"},intentKeys:["isTrending","isCelebrity","isFootball","isPhotos","isVideos","isHashtag","isLocal","isCompany","isMovie","isHappeningNow","isSpecialIntentGeneric","isLink"],keywordBootstrapTypes:{recent:"recent_search_suggestion",popular:"popular_search_suggestion",trending:"trending_search_suggestion",serp_first:"serp_first_suggestion",people:"people_suggestion",null_state:"null_state_suggestion",awareness:"awareness_suggestion",interest:"interest_suggestion",cf_search:"collaborative_filtered_search_suggestion"}}}),null);
__d("XFeedNewStoriesBadgeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/badge/",{})}),null);
__d("MFeedJewel",["CSS","DOM","MHistory","MJewel","MJewels","MPageController","MRequest","MURI","ScriptPath","Stratcom","SubscriptionsHandler","XFeedNewStoriesBadgeController","$","formatNumber"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u){__p&&__p();var v,w,x,y,z,A,B=0,C=9,D=15e3;function E(P){h.conditionClass(y,"popoverOpen",true)}function F(P){h.conditionClass(y,"popoverOpen",false)}function G(){if(x)return;x=new r();x.addSubscriptions(i.listen(t(k.JEWEL_NAV_NODE_ID),"click","feed",J));x.addSubscriptions(q.listen("m:history:change",null,I))}function H(){x&&x.release();x=null}function I(P){var Q=P.getData().soft;for(var R=0,S=Object.keys(l);R<S.length;R++)if(l[S[R]]===Q){F();return}E()}function J(P){var Q=P.getNode("icon").getAttribute("href");if(new o(Q).normalize().toString()===new o(j.getPath()).normalize().toString()){P.kill();m.reload({reloaded:true})}p.set("topbar_feed")}function K(P){i.setContent(v,u.withMaxLimit(P,C));h.conditionClass(y,"noCount",P===0);h.conditionClass(y,"hasCount",P>0)}function L(){if(B>C)return;clearTimeout(A);A=setTimeout(function(){M()},D)}function M(){var P=s.getURIBuilder();z=new n(P.getURI().toString());z.listen("done",function(Q){B=Q.payload.count;K(Q.payload.count)});z.listen("finally",function(){z=null;L()});z.send()}function N(){B=0;K(B);clearTimeout(A);A=null}function O(P,Q){__p&&__p();if(w)return;w=true;y=P;v=i.find(y,"span","count");q.listen("m:homepage:load",null,function(){E();G();if(v)N()});q.listen("m:homepage:unload",null,function(){F();H();if(v)L()});if(Q)G();else if(v)L()}f.exports={init:O}}),null);
__d("MGenericJewel",["CSS","DOM","MHistory","MJewel","MJewels","MViewport","ScriptPath","Stratcom","$"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){__p&&__p();var q={};function r(s,t,u){__p&&__p();if(q[s])return;q[s]=true;var v,w;i.listen(p(k.JEWEL_NAV_NODE_ID),"click",s,function(x){__p&&__p();if(x.getNode("icon")){x.prevent();if(!v){j.pushSoftState(s);o.invoke("MGenericJewel::clicked",s,{open:true})}else if(s===l.SEARCH)o.invoke("m:chrome:tab:show",s,{open:true})}n.set("topbar_"+s)});o.listen("m:history:change",null,function(x){__p&&__p();var y=x.getData().soft===s;if(!y&&(v||w))o.invoke("m:chrome:tab:hide",s);h.conditionClass(t,"popoverOpen",y);if(u){h.conditionClass(u,"popover_hidden",!y);h.conditionClass(u,"popover_visible",y);if(y)u.style.minHeight=m.getUseableHeight()+"px"}if(y&&!v)o.invoke("m:chrome:tab:show",s);w=x.getData().soft===undefined;v=y})}f.exports={init:r}}),null);
__d("XBookmarksFlyoutBodyController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/bookmarks/flyout/body/",{id:{type:"String",required:true}})}),null);
__d("MChromeTabsBootloader",["MJewels","MRequest","Stratcom","XBookmarksFlyoutBodyController"],(function a(b,c,d,e,f,g,h,i,j,k){var l={bootloadBookmarks:function m(n){j.listen("m:chrome:tab:show",h.BOOKMARKS,function(){j.removeCurrentListener();new i(k.getURIBuilder().setString("id",n).getURI()).send()})}};f.exports=l}),null);
__d("MBeeperController",["Bootloader","CSS","DOM","MHistory","Stratcom","URI","$","cx","getActiveElement","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){__p&&__p();var r=void 0,s=void 0,t=void 0,u=void 0,v=[],w=void 0,x=3e3;function y(G){w=G;q(function(){l.listen("m_notification",null,z);l.listen("blur",null,A);l.listen("m:history:change",null,F)},x)}function z(G){__p&&__p();var H=G.getData();if(!H||!H.data||w&&!H.data.type||w&&w.indexOf(H.data.type)===-1)return;var I={notification:H.data};E(I);if(!r&&!s)h.loadModules(["ReactComponentRenderer","MBeeper.react"],function(J,K){r=J;s=K;F()},"MBeeperController");else F()}function A(G){var H=G.getTarget();if(H&&C(H))setTimeout(F,50)}function B(){v.shift();F()}function C(G){var H=G.tagName;return H==="INPUT"||H==="TEXTAREA"||G.contentEditable==="true"}function D(){return!(C(p())||n("root").offsetHeight===0)}function E(G){var H=v.find(function(I){return I.notification.alert_id===G.notification.alert_id});if(!H)v.push(G)}function F(){__p&&__p();if(!D())return;var G=new m(k.getPath());if(G.getQueryData().soft==="notifications"){v=[];return}var H=v[0];if(!H)return;if(!t){t=j.create("div");i.addClass(t,"_3hy8");n("page").appendChild(t)}if(!u){if(r){u=new r(s,t);u.setProps(babelHelpers["extends"]({},H,{onHide:B}))}}else if(u.component.isReady())u.setProps(H)}g.init=y}),null);
__d("MPageletTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({CHROME:"chrome",CONTENT:"content"})}),null);
__d("MFirstPageRecorder",["DOM","MDeepCopy","MURI","MPageCache","MPageController","MPageHeaderRight","MPageTitle","MPageletTypes","MRenderingScheduler","MRequestConfig","MResponseData","Stratcom","ScriptPath","$","ge","ServerJS"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v){__p&&__p();var w,x=true,y=[];function z(){__p&&__p();if(w)return;w=true;var A=new j(l.getRenderedPath()),B,C=[];y=[p.getInstance().attachListenerToSyncPageletComplete(function(){k.setCachedPage(A,B);k.clearCachedIUIResponses(A);C.forEach(function(D){k.addCachedIUIResponse(A,D)})}),p.getInstance().attachListenerToSyncPageletLoader(function(D){__p&&__p();if(D.pageletConfig.type!==o.CONTENT)return;var E={ajax_response_token:q.ajaxResponseToken.secret,js:D.js||[],css:D.css||[],ixData:D.ixData};E.actions=[{cmd:"replace",target:D.id,html:D.element?v(D.element).innerHTML:D.content.__html,replaceifexists:false,allownull:false},{cmd:"append",target:"static_templates",html:D.pageletConfig.templates.__html,replaceifexists:true}];var F=i(D.pageletConfig.serverJSData),G=[function(){var M=c("ServerJS");new M().handle(i(F))}];if(x){x=false;var H=u("root").cloneNode(true);B=new r({ajax_response_token:q.ajaxResponseToken.secret,js:[],css:[],ixData:[],actions:[{cmd:"script",type:"immediate",fn:function M(){h.replace(u("root"),H.cloneNode(true))}}]});var I=m.getChromeHeaderRightContent();if(I&&I.length>0)G.push(function(){var M=document.createDocumentFragment();for(var L=0;L<I.length;L++)M.appendChild(I[0]);m.setup({node:M})});var J=document.title;G.push(function(){n.setTitle(J)});var K=t.getPageInfo();if(K)G.push(function(){t.set(K.scriptPath,K.categoryToken,K.extraData)})}for(var L=0;L<G.length;L++)E.actions.push({cmd:"script",type:"onload",fn:G[L]});C.push(new r(E))})]}s.listen("m:page:unload",null,function(){y.forEach(function(A){A&&A.remove();A=null});w=true;s.removeCurrentListener()});g.startPageletCaching=z}),null);
__d("BrowseWebSLRPELoggerClickType",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({ITEM_IN_MODULE_TAPPED:"graph_search_results_item_in_module_tapped",ITEM_TAPPED:"graph_search_results_item_tapped",SEE_MORE_TAPPED:"graph_search_results_see_more_on_module_tapped",INLINE_FRIEND_REQUEST:"inline_friend_request",INLINE_PAGE_LIKE_REQUEST:"inline_page_like_request",MODULE_TAPPED:"graph_search_results_module_tapped",TAP_MODULE:"graph_search_results_module_tapped",VIEW_PORT_VIEWS_ON_SEARCH_RESULTS:"view_port_views_on_search_results"})}),null);
__d("mSearchSimplificationResultTransformer",["MSearchSimplificationUtils","URI"],(function a(b,c,d,e,f,g,h,i){"use strict";__p&&__p();function j(k){var l=k.type==="keyword",m=k.display,n=k.path,o=k.id,p=k.type;m=(k.display||k.text).toLowerCase();o=h.getKeywordSemantic(m);var q=new i(n);if(!l){q=h.getKeywordURI(m).toString();p="keyword"}return{boldedSubtext:k.boldedSubtext,cost:k.cost,display:m,id:o,idx:k.idx,isScoped:k.is_scoped,isVerified:k.is_verified,keyword_type:k.keyword_type,keywordBoldedSubtext:k.keywordBoldedSubtext,keywordRenderType:k.keywordRenderType,logInfo:k.logInfo,name:k.text,photo:k.photo,showGrayCheck:k.show_gray_check,subtext:k.subtext,tokens:k.tokens,type:p,uri:q,verticalType:k.vertical_type,keywordSource:k.keywordSource}}f.exports=j}),null);
__d("MGraphSearchTypeaheadTouchSource",["MTypeaheadTouchSource","SearchMTouchGlobalOptions","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l,m;l=babelHelpers.inherits(n,h);m=l&&l.prototype;function n(o,p){"use strict";m.constructor.call(this,o,p);this.setNormalizer(function(q){return q.toLowerCase()})}n.prototype.renderNodes=function(o,p){"use strict";__p&&__p();if(this._shouldOnlyPrefixMatch){var q=[];for(var r=p,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u,w=this._raw[v];if(w.display.toLowerCase().indexOf(o.toLowerCase())===0)q.push(v)}p=q}return m.renderNodes.call(this,o,p)};n.prototype.checkFragmentMatches=function(o,p,q,r){"use strict";if(o.substr(0,p.length)!==p)return false;var s=q[q.length-1]!==" ";if(!s||p!==r)return o==p;return true};n.prototype.tokenize=function(o){"use strict";var p=m.tokenize.call(this,o);if(p[p.length-1]==="")p.pop();return p};n.prototype.setConvertEntityToKeyword=function(o){"use strict";this.convertEntityToKeyword=o};n.prototype.getTransformer=function(){"use strict";return function(o){if(this.convertEntityToKeyword)return babelHelpers["extends"]({},k(o),{bootstrapped:true});return{name:o.text,uri:o.path,id:o.uid,display:o.display||o.text,photo:o.photo,category:o.category,cost:o.cost,idx:o.idx,tokens:o.tokens,type:o.untranslated_type||o.type,verticalType:o.vertical_type,subtext:o.text_only_subtext||o.subtext,logInfo:o.logInfo,bootstrapped:true,saved_context:o.saved_context,render_type:o.render_type}}.bind(this)};n.prototype.setShouldOnlyPrefixMatch=function(o){"use strict";this._shouldOnlyPrefixMatch=o};f.exports=n}),null);
__d("BrowseWebSLRPELoggerAction",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({SEARCH:"search",CLICK:"click",MODULE_IMPRESSION:"module_impression",TIME_SPENT:"time_spent"})}),null);
__d("XSearchBEMClientDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_client_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},event_name:{type:"String",required:true},bootstrap_item_count:{type:"Int",required:true}})}),null);
__d("XSearchBEMUnitDataLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/log_bem_unit_data/",{session_id:{type:"String",required:true},logging_unit_id:{type:"String",required:true},query:{type:"String",required:true},query_function:{type:"String",required:true},results_module_role:{type:"String",required:true},tapped_results_entity_id:{type:"String"},entity_ids:{type:"StringSet"}})}),null);
__d("MemoizationInstrumentation",["invariant"],(function a(b,c,d,e,f,g,h){"use strict";var i=null,j={inject:function k(l){i==null||h(0);i=l},onFunctionCall:function k(l,m,n){if(i)i.functionCall(l,m,n)}};f.exports=j}),null);
__d("memoizeWithArgs",["MemoizationInstrumentation"],(function a(b,c,d,e,f,g,h){__p&&__p();var i=Object.prototype.hasOwnProperty;function j(k,l,m){__p&&__p();var n=void 0,o=m||k.name||"unknown";return function(){if(!n)n={};var p=l.apply(undefined,arguments),q=true;if(!i.call(n,p)){q=false;n[p]=k.apply(undefined,arguments)}h.onFunctionCall("memoizeWithArgs",o,q);return n[p]}}f.exports=j}),null);
__d("MSearchBootstrapEntityModuleLoggingUtils",["BrowseWebSLRPELoggerAction","MRequest","MViewableImpressionTracking","SearchEntityModuleServerConstants","SearchMSiteTrackableClientViewConfig","XSearchBEMClientDataLoggingController","XSearchBEMUnitDataLoggingController","invariant","md5","memoizeWithArgs","randomInt"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){"use strict";__p&&__p();var s="mtouch_bem",t="mtouch_bem_res",u={getModuleTrackingData:q(function(v,w){var x=k.SEARCH_RESULTS_TRACKABLE,y=x+JSON.stringify({session_id:v,unit_id:u._getModuleUnitID(v),unit_id_click_type:w});return{"data-xt":y,"data-xt-vimp":JSON.stringify(l)}},function(v,w){return v+(w!=null?w:"")}),getSerializedResultTrackingData:q(function(v,w,x,y){var z=w.type,A=k.SEARCH_RESULTS_TRACKABLE,B=k.MTOUCH_BEM_CLICK_TYPE,C=k.RESULT_TYPE_TO_MODULE_ROLE,D=k.TYPE_TO_BROWSE_TYPE,E=u._getResultUnitID(v,w);return A+JSON.stringify({browse_result_type:D[z],click_type:B,module_result_position:x.indexOf(w),module_role:C[z],result_id:w.id,session_id:v,unit_id:E,unit_id_click_type:y,unit_id_result_id:w.id})},function(v,w,x,y){return v+w.id+x.map(function(w){return w.id}).join(",")+(y!=null?y:"")}),logUnitData:function v(w,x,y){__p&&__p();var z=u._getModuleUnitID(w),A=x.first();A!=null||o(0);var B=A.type,C=k.RESULT_TYPE_TO_MODULE_ROLE,D=k.BROWSE_EDGE_KEYWORDS_SEARCH,E=D+"("+y+")",F=C[B],G=m.getURIBuilder().setString("logging_unit_id",z).setString("session_id",w).setString("event_name",h.MODULE_IMPRESSION).setInt("bootstrap_item_count",x.size);new i(G.getURI()).send();var H=n.getURIBuilder().setString("session_id",w).setString("query",y).setString("query_function",E).setString("results_module_role",F).setString("logging_unit_id",z).setStringSet("entity_ids",x.map(function(M){return M.id}).toArray());new i(H.getURI()).send();for(var I=x,J=Array.isArray(I),K=0,I=J?I:I[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var L;if(J){if(K>=I.length)break;L=I[K++]}else{K=I.next();if(K.done)break;L=K.value}var M=L,N=u._getResultUnitID(w,M);H=n.getURIBuilder().setString("session_id",w).setString("query",y).setString("query_function",E).setString("results_module_role",F).setString("logging_unit_id",N).setString("tapped_results_entity_id",String(M.id));new i(H.getURI()).send()}},initVPVDLogging:function v(){j.init()},_getModuleUnitID:q(function(v){return u._generateUnitID(s)},function(v){return v}),_getResultUnitID:q(function(v,w){return u._generateUnitID(t)},function(v,w){return v+w.id}),_generateUnitID:function v(w){return w+":"+p(String(r(0,Number.MAX_SAFE_INTEGER)))}};f.exports=u}),null);
__d("XSearchEntityPrimaryActionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/entity_primary_actions/",{container_id:{type:"String",required:true},ent_id:{type:"FBID",required:true},result_type:{type:"String",required:true}})}),null);
__d("XSearchProfilePictureController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/async/profile_picture/",{fbid:{type:"FBID",required:true},width:{type:"Int",required:true},height:{type:"Int",required:true}})}),null);
__d("MSearchEntityResult",["DOM","MRequest","MRequestTypes","SearchResultPageExperiments","XSearchEntityPrimaryActionsController","XSearchProfilePictureController","cx","setImmediateAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p=64;function q(u){var v=u.result.photo,w=k.useUncachedBootstrapEntityModulePictures&&u.result.type==="user";if(w)v=m.getURIBuilder().setFBID("fbid",String(u.result.id)).setInt("width",p).setInt("height",p).getURI().toString();if(v==null)return null;return h.create("a",{href:u.result.uri,touchable:true},h.create("img",{className:"_uod",src:v}))}function r(u){var v=u.result,w=v.name,x=v.subtext,y=v.isVerified,z=v.showGrayCheck,A=void 0;if(y)A=h.create("i",{className:"_uoe"});var B=void 0;if(z)B=h.create("i",{className:"_uog"});return h.create("a",{className:"_uoh touchable",href:u.result.uri},[h.create("div",{className:"_uoi"},h.create("div",{className:"_uok"},w),[A,B]),h.create("div",{className:"_1e8d"},x)])}function s(u){var v=u.result,w="bem_"+v.id,x=h.create("div",{id:w,className:"_5_fr"},h.create("div",{className:"_55ym _55yq"}));o(function(){var y=l.getURIBuilder().setString("container_id",w).setFBID("ent_id",String(v.id)).setString("result_type","browse_type_"+v.type).getURI();new i(y).setMethod("GET").setType(j.INDEPENDENT).send()});return x}function t(u){return h.create("div",{className:"_uoq _3o0d"},[q(u),r(u),s(u)])}f.exports=t}),null);
__d("XTrackableImpressionController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/xt/i/",{xt:{type:"String",required:true},isv:{type:"Int"},cts:{type:"Int"},csp:{type:"Int"}})}),null);
__d("generateBrowseSessionID",["CurrentUser","md5"],(function a(b,c,d,e,f,g,h,i){var j={mtouch:"412378670482",www:"256281040558"},k="keywords_search";function l(m){var n=m.appName,o=m.edge;return i([j[n],h.getID(),o,Math.floor(Date.now()/30)].join(":"))}f.exports=l}),null);
__d("immutable",[],(function aa(ba,ca,da,ea,fa,ga){(function(ba,a){typeof ga==="object"&&typeof fa!=="undefined"?fa.exports=a():typeof define==="function"&&define.amd?define(a):ba.Immutable=a()})(this,function(){"use strict";var a=Array.prototype.slice;function b(L,M){if(M)L.prototype=Object.create(M.prototype);L.prototype.constructor=L}var ha="delete",c=5,d=1<<c,e=d-1,f={},ia={value:false},ja={value:false};function ka(L){L.value=false;return L}function g(L){L&&(L.value=true)}function la(){}function ma(L,M){M=M||0;var N=Math.max(0,L.length-M),O=new Array(N);for(var P=0;P<N;P++)O[P]=L[P+M];return O}function na(L){if(L.size===undefined)L.size=L.__iterate(pa);return L.size}function oa(L,M){return M>=0?+M:na(L)+ +M}function pa(){return true}function qa(L,M,N){return(L===0||N!==undefined&&L<=-N)&&(M===undefined||N!==undefined&&M>=N)}function ra(L,M){return ta(L,M,0)}function sa(L,M){return ta(L,M,M)}function ta(L,M,N){return L===undefined?N:L<0?Math.max(0,M+L):M===undefined?L:Math.min(M,L)}function h(L){return k(L)?L:r(L)}b(i,h);function i(L){return l(L)?L:s(L)}b(ua,h);function ua(L){return m(L)?L:t(L)}b(j,h);function j(L){return k(L)&&!va(L)?L:La(L)}function k(L){return!!(L&&L[xa])}function l(L){return!!(L&&L[ya])}function m(L){return!!(L&&L[za])}function va(L){return l(L)||m(L)}function wa(L){return!!(L&&L[Aa])}h.isIterable=k;h.isKeyed=l;h.isIndexed=m;h.isAssociative=va;h.isOrdered=wa;h.Keyed=i;h.Indexed=ua;h.Set=j;var xa="@@__IMMUTABLE_ITERABLE__@@",ya="@@__IMMUTABLE_KEYED__@@",za="@@__IMMUTABLE_INDEXED__@@",Aa="@@__IMMUTABLE_ORDERED__@@",Ba=0,n=1,Ca=2,Da=typeof Symbol==="function"&&Symbol.iterator,Ea="@@iterator",Fa=Da||Ea;function o(L){this.next=L}o.prototype.toString=function(){return"[Iterator]"};o.KEYS=Ba;o.VALUES=n;o.ENTRIES=Ca;o.prototype.inspect=o.prototype.toSource=function(){return this.toString()};o.prototype[Fa]=function(){return this};function p(L,M,N,O){var P=L===0?M:L===1?N:[M,N];O?O.value=P:O={value:P,done:false};return O}function q(){return{value:undefined,done:true}}function Ga(L){return!!Ja(L)}function Ha(L){return L&&typeof L.next==="function"}function Ia(L){var M=Ja(L);return M&&M.call(L)}function Ja(L){var M=L&&(Da&&L[Da]||L[Ea]);if(typeof M==="function")return M}function Ka(L){return L&&typeof L.length==="number"}b(r,h);function r(L){return L===null||L===undefined?Ta():k(L)?L.toSeq():Wa(L)}r.of=function(){return r(arguments)};r.prototype.toSeq=function(){return this};r.prototype.toString=function(){return this.__toString("Seq {","}")};r.prototype.cacheResult=function(){if(!this._cache&&this.__iterateUncached){this._cache=this.entrySeq().toArray();this.size=this._cache.length}return this};r.prototype.__iterate=function(L,M){return Ya(this,L,M,true)};r.prototype.__iterator=function(L,M){return Za(this,L,M,true)};b(s,r);function s(L){return L===null||L===undefined?Ta().toKeyedSeq():k(L)?l(L)?L.toSeq():L.fromEntrySeq():Ua(L)}s.prototype.toKeyedSeq=function(){return this};b(t,r);function t(L){return L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L.toIndexedSeq()}t.of=function(){return t(arguments)};t.prototype.toIndexedSeq=function(){return this};t.prototype.toString=function(){return this.__toString("Seq [","]")};t.prototype.__iterate=function(L,M){return Ya(this,L,M,false)};t.prototype.__iterator=function(L,M){return Za(this,L,M,false)};b(La,r);function La(L){return(L===null||L===undefined?Ta():!k(L)?Va(L):l(L)?L.entrySeq():L).toSetSeq()}La.of=function(){return La(arguments)};La.prototype.toSetSeq=function(){return this};r.isSeq=Ra;r.Keyed=s;r.Set=La;r.Indexed=t;var Ma="@@__IMMUTABLE_SEQ__@@";r.prototype[Ma]=true;b(Na,t);function Na(L){this._array=L;this.size=L.length}Na.prototype.get=function(L,M){return this.has(L)?this._array[oa(this,L)]:M};Na.prototype.__iterate=function(L,M){var N=this._array,O=N.length-1;for(var P=0;P<=O;P++)if(L(N[M?O-P:P],P,this)===false)return P+1;return P};Na.prototype.__iterator=function(L,M){var N=this._array,O=N.length-1,P=0;return new o(function(){return P>O?q():p(L,P,N[M?O-P++:P++])})};b(Oa,s);function Oa(L){var M=Object.keys(L);this._object=L;this._keys=M;this.size=M.length}Oa.prototype.get=function(L,M){if(M!==undefined&&!this.has(L))return M;return this._object[L]};Oa.prototype.has=function(L){return this._object.hasOwnProperty(L)};Oa.prototype.__iterate=function(L,M){var N=this._object,O=this._keys,P=O.length-1;for(var Q=0;Q<=P;Q++){var R=O[M?P-Q:Q];if(L(N[R],R,this)===false)return Q+1}return Q};Oa.prototype.__iterator=function(L,M){var N=this._object,O=this._keys,P=O.length-1,Q=0;return new o(function(){var R=O[M?P-Q:Q];return Q++>P?q():p(L,R,N[R])})};Oa.prototype[Aa]=true;b(Pa,t);function Pa(L){this._iterable=L;this.size=L.length||L.size}Pa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterable,O=Ia(N),P=0;if(Ha(O)){var Q;while(!(Q=O.next()).done)if(L(Q.value,P++,this)===false)break}return P};Pa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterable,O=Ia(N);if(!Ha(O))return new o(q);var P=0;return new o(function(){var Q=O.next();return Q.done?Q:p(L,P++,Q.value)})};b(Qa,t);function Qa(L){this._iterator=L;this._iteratorCache=[]}Qa.prototype.__iterateUncached=function(L,M){if(M)return this.cacheResult().__iterate(L,M);var N=this._iterator,O=this._iteratorCache,P=0;while(P<O.length)if(L(O[P],P++,this)===false)return P;var Q;while(!(Q=N.next()).done){var R=Q.value;O[P]=R;if(L(R,P++,this)===false)break}return P};Qa.prototype.__iteratorUncached=function(L,M){if(M)return this.cacheResult().__iterator(L,M);var N=this._iterator,O=this._iteratorCache,P=0;return new o(function(){if(P>=O.length){var Q=N.next();if(Q.done)return Q;O[P]=Q.value}return p(L,P,O[P++])})};function Ra(L){return!!(L&&L[Ma])}var Sa;function Ta(){return Sa||(Sa=new Na([]))}function Ua(L){var M=Array.isArray(L)?new Na(L).fromEntrySeq():Ha(L)?new Qa(L).fromEntrySeq():Ga(L)?new Pa(L).fromEntrySeq():typeof L==="object"?new Oa(L):undefined;if(!M)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+L);return M}function Va(L){var M=Xa(L);if(!M)throw new TypeError("Expected Array or iterable object of values: "+L);return M}function Wa(L){var M=Xa(L)||typeof L==="object"&&new Oa(L);if(!M)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+L);return M}function Xa(L){return Ka(L)?new Na(L):Ha(L)?new Qa(L):Ga(L)?new Pa(L):undefined}function Ya(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1;for(var R=0;R<=Q;R++){var S=P[N?Q-R:R];if(M(S[1],O?S[0]:R,L)===false)return R+1}return R}return L.__iterateUncached(M,N)}function Za(L,M,N,O){var P=L._cache;if(P){var Q=P.length-1,R=0;return new o(function(){var S=P[N?Q-R:R];return R++>Q?q():p(M,O?S[0]:R-1,S[1])})}return L.__iteratorUncached(M,N)}b($a,h);function $a(){throw TypeError("Abstract")}b(ab,$a);function ab(){}b(bb,$a);function bb(){}b(cb,$a);function cb(){}$a.Keyed=ab;$a.Indexed=bb;$a.Set=cb;function u(L,M){if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false;if(typeof L.valueOf==="function"&&typeof M.valueOf==="function"){L=L.valueOf();M=M.valueOf();if(L===M||L!==L&&M!==M)return true;if(!L||!M)return false}if(typeof L.equals==="function"&&typeof M.equals==="function"&&L.equals(M))return true;return false}function db(L,M){return M?eb(M,L,"",{"":L}):fb(L)}function eb(L,M,N,O){if(Array.isArray(M))return L.call(O,N,t(M).map(function(P,Q){return eb(L,P,Q,M)}));if(gb(M))return L.call(O,N,s(M).map(function(P,Q){return eb(L,P,Q,M)}));return M}function fb(L){if(Array.isArray(L))return t(L).map(fb).toList();if(gb(L))return s(L).map(fb).toMap();return L}function gb(L){return L&&(L.constructor===Object||L.constructor===undefined)}var hb=typeof Math.imul==="function"&&Math.imul(4294967295,2)===-2?Math.imul:function L(M,N){M=M|0;N=N|0;var O=M&65535,P=N&65535;return O*P+((M>>>16)*P+O*(N>>>16)<<16>>>0)|0};function ib(L){return L>>>1&1073741824|L&3221225471}function v(L){if(L===false||L===null||L===undefined)return 0;if(typeof L.valueOf==="function"){L=L.valueOf();if(L===false||L===null||L===undefined)return 0}if(L===true)return 1;var M=typeof L;if(M==="number"){var N=L|0;if(N!==L)N^=L*4294967295;while(L>4294967295){L/=4294967295;N^=L}return ib(N)}if(M==="string")return L.length>tb?jb(L):kb(L);if(typeof L.hashCode==="function")return L.hashCode();return lb(L)}function jb(L){var v=wb[L];if(v===undefined){v=kb(L);if(vb===ub){vb=0;wb={}}vb++;wb[L]=v}return v}function kb(L){var v=0;for(var M=0;M<L.length;M++)v=31*v+L.charCodeAt(M)|0;return ib(v)}function lb(L){var v;if(pb){v=qb.get(L);if(v!==undefined)return v}v=L[sb];if(v!==undefined)return v;if(!nb){v=L.propertyIsEnumerable&&L.propertyIsEnumerable[sb];if(v!==undefined)return v;v=ob(L);if(v!==undefined)return v}v=++rb;if(rb&1073741824)rb=0;if(pb)qb.set(L,v);else if(mb!==undefined&&mb(L)===false)throw new Error("Non-extensible objects are not allowed as keys.");else if(nb)Object.defineProperty(L,sb,{enumerable:false,configurable:false,writable:false,value:v});else if(L.propertyIsEnumerable!==undefined&&L.propertyIsEnumerable===L.constructor.prototype.propertyIsEnumerable){L.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)};L.propertyIsEnumerable[sb]=v}else if(L.nodeType!==undefined)L[sb]=v;else throw new Error("Unable to set a non-enumerable property on object.");return v}var mb=Object.isExtensible,nb=function(){try{Object.defineProperty({},"@",{});return true}catch(L){return false}}();function ob(L){if(L&&L.nodeType>0)switch(L.nodeType){case 1:return L.uniqueID;case 9:return L.documentElement&&L.documentElement.uniqueID}}var pb=typeof WeakMap==="function",qb;if(pb)qb=new WeakMap();var rb=0,sb="__immutablehash__";if(typeof Symbol==="function")sb=Symbol(sb);var tb=16,ub=255,vb=0,wb={};function xb(L,M){if(!L)throw new Error(M)}function w(L){xb(L!==Infinity,"Cannot perform this action with an infinite size.")}b(yb,s);function yb(L,M){this._iter=L;this._useKeys=M;this.size=L.size}yb.prototype.get=function(L,M){return this._iter.get(L,M)};yb.prototype.has=function(L){return this._iter.has(L)};yb.prototype.valueSeq=function(){return this._iter.valueSeq()};yb.prototype.reverse=function(){var L=this,M=Eb(this,true);if(!this._useKeys)M.valueSeq=function(){return L._iter.toSeq().reverse()};return M};yb.prototype.map=function(L,M){var N=this,O=Db(this,L,M);if(!this._useKeys)O.valueSeq=function(){return N._iter.toSeq().map(L,M)};return O};yb.prototype.__iterate=function(L,M){var N=this,O;return this._iter.__iterate(this._useKeys?function(P,Q){return L(P,Q,N)}:(O=M?Ub(this):0,function(P){return L(P,M?--O:O++,N)}),M)};yb.prototype.__iterator=function(L,M){if(this._useKeys)return this._iter.__iterator(L,M);var N=this._iter.__iterator(n,M),O=M?Ub(this):0;return new o(function(){var P=N.next();return P.done?P:p(L,M?--O:O++,P.value,P)})};yb.prototype[Aa]=true;b(zb,t);function zb(L){this._iter=L;this.size=L.size}zb.prototype.includes=function(L){return this._iter.includes(L)};zb.prototype.__iterate=function(L,M){var N=this,O=0;return this._iter.__iterate(function(P){return L(P,O++,N)},M)};zb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M),O=0;return new o(function(){var P=N.next();return P.done?P:p(L,O++,P.value,P)})};b(Ab,La);function Ab(L){this._iter=L;this.size=L.size}Ab.prototype.has=function(L){return this._iter.includes(L)};Ab.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){return L(O,O,N)},M)};Ab.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){var O=N.next();return O.done?O:p(L,O.value,O.value,O)})};b(Bb,s);function Bb(L){this._iter=L;this.size=L.size}Bb.prototype.entrySeq=function(){return this._iter.toSeq()};Bb.prototype.__iterate=function(L,M){var N=this;return this._iter.__iterate(function(O){if(O){Tb(O);var P=k(O);return L(P?O.get(1):O[1],P?O.get(0):O[0],N)}},M)};Bb.prototype.__iterator=function(L,M){var N=this._iter.__iterator(n,M);return new o(function(){while(true){var O=N.next();if(O.done)return O;var P=O.value;if(P){Tb(P);var Q=k(P);return p(L,Q?P.get(0):P[0],Q?P.get(1):P[1],O)}}})};zb.prototype.cacheResult=yb.prototype.cacheResult=Ab.prototype.cacheResult=Bb.prototype.cacheResult=Xb;function Cb(L){var M=Wb(L);M._iter=L;M.size=L.size;M.flip=function(){return L};M.reverse=function(){var N=L.reverse.apply(this);N.flip=function(){return L.reverse()};return N};M.has=function(N){return L.includes(N)};M.includes=function(N){return L.has(N)};M.cacheResult=Xb;M.__iterateUncached=function(N,O){var P=this;return L.__iterate(function(Q,R){return N(R,Q,P)!==false},O)};M.__iteratorUncached=function(N,O){if(N===Ca){var P=L.__iterator(N,O);return new o(function(){var Q=P.next();if(!Q.done){var R=Q.value[0];Q.value[0]=Q.value[1];Q.value[1]=R}return Q})}return L.__iterator(N===n?Ba:n,O)};return M}function Db(L,M,N){var O=Wb(L);O.size=L.size;O.has=function(P){return L.has(P)};O.get=function(P,Q){var R=L.get(P,f);return R===f?Q:M.call(N,R,P,L)};O.__iterateUncached=function(P,Q){var R=this;return L.__iterate(function(S,T,U){return P(M.call(N,S,T,U),T,R)!==false},Q)};O.__iteratorUncached=function(P,Q){var R=L.__iterator(Ca,Q);return new o(function(){var S=R.next();if(S.done)return S;var T=S.value,U=T[0];return p(P,U,M.call(N,T[1],U,L),S)})};return O}function Eb(L,M){var N=Wb(L);N._iter=L;N.size=L.size;N.reverse=function(){return L};if(L.flip)N.flip=function(){var O=Cb(L);O.reverse=function(){return L.flip()};return O};N.get=function(O,P){return L.get(M?O:-1-O,P)};N.has=function(O){return L.has(M?O:-1-O)};N.includes=function(O){return L.includes(O)};N.cacheResult=Xb;N.__iterate=function(O,P){var Q=this;return L.__iterate(function(R,S){return O(R,S,Q)},!P)};N.__iterator=function(O,P){return L.__iterator(O,!P)};return N}function Fb(L,M,N,O){var P=Wb(L);if(O){P.has=function(Q){var R=L.get(Q,f);return R!==f&&!!M.call(N,R,Q,L)};P.get=function(Q,R){var S=L.get(Q,f);return S!==f&&M.call(N,S,Q,L)?S:R}}P.__iterateUncached=function(Q,R){var S=this,T=0;L.__iterate(function(U,V,W){if(M.call(N,U,V,W)){T++;return Q(U,O?V:T-1,S)}},R);return T};P.__iteratorUncached=function(Q,R){var S=L.__iterator(Ca,R),T=0;return new o(function(){while(true){var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(M.call(N,X,W,L))return p(Q,O?W:T++,X,U)}})};return P}function Gb(L,M,N){var O=y().asMutable();L.__iterate(function(P,Q){O.update(M.call(N,P,Q,L),0,function(R){return R+1})});return O.asImmutable()}function Hb(L,M,N){var O=l(L),P=(wa(L)?C():y()).asMutable();L.__iterate(function(R,S){P.update(M.call(N,R,S,L),function(T){return T=T||[],T.push(O?[S,R]:R),T})});var Q=Vb(L);return P.map(function(R){return x(L,Q(R))})}function Ib(L,M,N,O){var P=L.size;if(qa(M,N,P))return L;var Q=ra(M,P),R=sa(N,P);if(Q!==Q||R!==R)return Ib(L.toSeq().cacheResult(),M,N,O);var S=R-Q,T;if(S===S)T=S<0?0:S;var U=Wb(L);U.size=T;if(!O&&Ra(L)&&T>=0)U.get=function(V,W){V=oa(this,V);return V>=0&&V<T?L.get(V+Q,W):W};U.__iterateUncached=function(V,W){var X=this;if(T===0)return 0;if(W)return this.cacheResult().__iterate(V,W);var Y=0,Z=true,$=0;L.__iterate(function(Jd,Kd){if(!(Z&&(Z=Y++<Q))){$++;return V(Jd,O?Kd:$-1,X)!==false&&$!==T}});return $};U.__iteratorUncached=function(V,W){if(T!==0&&W)return this.cacheResult().__iterator(V,W);var X=T!==0&&L.__iterator(V,W),Y=0,Z=0;return new o(function(){while(Y++<Q)X.next();if(++Z>T)return q();var $=X.next();if(O||V===n)return $;else if(V===Ba)return p(V,Z-1,undefined,$);else return p(V,Z-1,$.value[1],$)})};return U}function Jb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterate(P,Q);var S=0;L.__iterate(function(T,U,V){return M.call(N,T,U,V)&&++S&&P(T,U,R)});return S};O.__iteratorUncached=function(P,Q){var R=this;if(Q)return this.cacheResult().__iterator(P,Q);var S=L.__iterator(Ca,Q),T=true;return new o(function(){if(!T)return q();var U=S.next();if(U.done)return U;var V=U.value,W=V[0],X=V[1];if(!M.call(N,X,W,R)){T=false;return q()}return P===Ca?U:p(P,W,X,U)})};return O}function Kb(L,M,N,O){var P=Wb(L);P.__iterateUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterate(Q,R);var T=true,U=0;L.__iterate(function(V,W,X){if(!(T&&(T=M.call(N,V,W,X)))){U++;return Q(V,O?W:U-1,S)}});return U};P.__iteratorUncached=function(Q,R){var S=this;if(R)return this.cacheResult().__iterator(Q,R);var T=L.__iterator(Ca,R),U=true,V=0;return new o(function(){var W,X,Y;do{W=T.next();if(W.done)if(O||Q===n)return W;else if(Q===Ba)return p(Q,V++,undefined,W);else return p(Q,V++,W.value[1],W);var Z=W.value;X=Z[0];Y=Z[1];U&&(U=M.call(N,Y,X,S))}while(U);return Q===Ca?W:p(Q,X,Y,W)})};return P}function Lb(L,M){var N=l(L),O=[L].concat(M).map(function(R){if(!k(R))R=N?Ua(R):Va(Array.isArray(R)?R:[R]);else if(N)R=i(R);return R}).filter(function(R){return R.size!==0});if(O.length===0)return L;if(O.length===1){var P=O[0];if(P===L||N&&l(P)||m(L)&&m(P))return P}var Q=new Na(O);if(N)Q=Q.toKeyedSeq();else if(!m(L))Q=Q.toSetSeq();Q=Q.flatten(true);Q.size=O.reduce(function(R,S){if(R!==undefined){var T=S.size;if(T!==undefined)return R+T}},0);return Q}function Mb(L,M,N){var O=Wb(L);O.__iterateUncached=function(P,Q){var R=0,S=false;function T(U,V){var W=this;U.__iterate(function(X,Y){if((!M||V<M)&&k(X))T(X,V+1);else if(P(X,N?Y:R++,W)===false)S=true;return!S},Q)}T(L,0);return R};O.__iteratorUncached=function(P,Q){var R=L.__iterator(P,Q),S=[],T=0;return new o(function(){while(R){var U=R.next();if(U.done!==false){R=S.pop();continue}var V=U.value;if(P===Ca)V=V[1];if((!M||S.length<M)&&k(V)){S.push(R);R=V.__iterator(P,Q)}else return N?U:p(P,T++,V,U)}return q()})};return O}function Nb(L,M,N){var O=Vb(L);return L.toSeq().map(function(P,Q){return O(M.call(N,P,Q,L))}).flatten(true)}function Ob(L,M){var N=Wb(L);N.size=L.size&&L.size*2-1;N.__iterateUncached=function(O,P){var Q=this,R=0;L.__iterate(function(S,T){return(!R||O(M,R++,Q)!==false)&&O(S,R++,Q)!==false},P);return R};N.__iteratorUncached=function(O,P){var Q=L.__iterator(n,P),R=0,S;return new o(function(){if(!S||R%2){S=Q.next();if(S.done)return S}return R%2?p(O,R++,M):p(O,R++,S.value,S)})};return N}function Pb(L,M,N){if(!M)M=Yb;var O=l(L),P=0,Q=L.toSeq().map(function(R,S){return[S,R,P++,N?N(R,S,L):R]}).toArray();Q.sort(function(R,S){return M(R[3],S[3])||R[2]-S[2]}).forEach(O?function(R,S){Q[S].length=2}:function(R,S){Q[S]=R[1]});return O?s(Q):m(L)?t(Q):La(Q)}function Qb(L,M,N){if(!M)M=Yb;if(N){var O=L.toSeq().map(function(P,Q){return[P,N(P,Q,L)]}).reduce(function(P,Q){return Rb(M,P[1],Q[1])?Q:P});return O&&O[0]}else return L.reduce(function(P,Q){return Rb(M,P,Q)?Q:P})}function Rb(L,M,N){var O=L(N,M);return O===0&&N!==M&&(N===undefined||N===null||N!==N)||O>0}function Sb(L,M,N){var O=Wb(L);O.size=new Na(N).map(function(P){return P.size}).min();O.__iterate=function(P,Q){var R=this.__iterator(n,Q),S,T=0;while(!(S=R.next()).done)if(P(S.value,T++,this)===false)break;return T};O.__iteratorUncached=function(P,Q){var R=N.map(function(U){return U=h(U),Ia(Q?U.reverse():U)}),S=0,T=false;return new o(function(){var U;if(!T){U=R.map(function(V){return V.next()});T=U.some(function(V){return V.done})}if(T)return q();return p(P,S++,M.apply(null,U.map(function(V){return V.value})))})};return O}function x(L,M){return Ra(L)?M:L.constructor(M)}function Tb(L){if(L!==Object(L))throw new TypeError("Expected [K, V] tuple: "+L)}function Ub(L){w(L.size);return na(L)}function Vb(L){return l(L)?i:m(L)?ua:j}function Wb(L){return Object.create((l(L)?s:m(L)?t:La).prototype)}function Xb(){if(this._iter.cacheResult){this._iter.cacheResult();this.size=this._iter.size;return this}else return r.prototype.cacheResult.call(this)}function Yb(L,M){return L>M?1:L<M?-1:0}function Zb(L){var M=Ia(L);if(!M){if(!Ka(L))throw new TypeError("Expected iterable or array-like: "+L);M=Ia(h(L))}return M}b(y,ab);function y(L){return L===null||L===undefined?lc():$b(L)?L:lc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}y.prototype.toString=function(){return this.__toString("Map {","}")};y.prototype.get=function(L,M){return this._root?this._root.get(0,undefined,L,M):M};y.prototype.set=function(L,M){return mc(this,L,M)};y.prototype.setIn=function(L,M){return this.updateIn(L,f,function(){return M})};y.prototype.remove=function(L){return mc(this,L,f)};y.prototype.deleteIn=function(L){return this.updateIn(L,function(){return f})};y.prototype.update=function(L,M,N){return arguments.length===1?L(this):this.updateIn([L],M,N)};y.prototype.updateIn=function(L,M,N){if(!N){N=M;M=undefined}var O=wc(this,Zb(L),M,N);return O===f?undefined:O};y.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._root=null;this.__hash=undefined;this.__altered=true;return this}return lc()};y.prototype.merge=function(){return tc(this,undefined,arguments)};y.prototype.mergeWith=function(L){var M=a.call(arguments,1);return tc(this,L,M)};y.prototype.mergeIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.merge==="function"?N.merge.apply(N,M):M[M.length-1]})};y.prototype.mergeDeep=function(){return tc(this,uc(undefined),arguments)};y.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return tc(this,uc(L),M)};y.prototype.mergeDeepIn=function(L){var M=a.call(arguments,1);return this.updateIn(L,lc(),function(N){return typeof N.mergeDeep==="function"?N.mergeDeep.apply(N,M):M[M.length-1]})};y.prototype.sort=function(L){return C(Pb(this,L))};y.prototype.sortBy=function(L,M){return C(Pb(this,M,L))};y.prototype.withMutations=function(L){var M=this.asMutable();L(M);return M.wasAltered()?M.__ensureOwner(this.__ownerID):this};y.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new la())};y.prototype.asImmutable=function(){return this.__ensureOwner()};y.prototype.wasAltered=function(){return this.__altered};y.prototype.__iterator=function(L,M){return new gc(this,L,M)};y.prototype.__iterate=function(L,M){var N=this,O=0;this._root&&this._root.iterate(function(P){O++;return L(P[1],P[0],N)},M);return O};y.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return jc(this.size,this._root,L,this.__hash)};function $b(L){return!!(L&&L[ac])}y.isMap=$b;var ac="@@__IMMUTABLE_MAP__@@",z=y.prototype;z[ac]=true;z[ha]=z.remove;z.removeIn=z.deleteIn;function bc(L,M){this.ownerID=L;this.entries=M}bc.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};bc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&T.length===1)return;if(!W&&!S&&T.length>=Bc)return qc(L,T,O,P);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new bc(L,Y)};function cc(L,M,N){this.ownerID=L;this.bitmap=M;this.nodes=N}cc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=1<<((L===0?M:M>>>L)&e),Q=this.bitmap;return(Q&P)===0?O:this.nodes[xc(Q&P-1)].get(L+c,M,N,O)};cc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=1<<S,U=this.bitmap,V=(U&T)!==0;if(!V&&P===f)return this;var W=xc(U&T-1),X=this.nodes,Y=V?X[W]:undefined,Z=nc(Y,L,M+c,N,O,P,Q,R);if(Z===Y)return this;if(!V&&Z&&X.length>=Cc)return sc(L,X,U,S,Z);if(V&&!Z&&X.length===2&&oc(X[W^1]))return X[W^1];if(V&&Z&&X.length===1&&oc(Z))return Z;var $=L&&L===this.ownerID,Jd=V?Z?U:U^T:U|T,Kd=V?Z?yc(X,W,Z,$):Ac(X,W,$):zc(X,W,Z,$);if($){this.bitmap=Jd;this.nodes=Kd;return this}return new cc(L,Jd,Kd)};function dc(L,M,N){this.ownerID=L;this.count=M;this.nodes=N}dc.prototype.get=function(L,M,N,O){if(M===undefined)M=v(N);var P=(L===0?M:M>>>L)&e,Q=this.nodes[P];return Q?Q.get(L+c,M,N,O):O};dc.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=(M===0?N:N>>>M)&e,T=P===f,U=this.nodes,V=U[S];if(T&&!V)return this;var W=nc(V,L,M+c,N,O,P,Q,R);if(W===V)return this;var X=this.count;if(!V)X++;else if(!W){X--;if(X<Dc)return rc(L,U,X,S)}var Y=L&&L===this.ownerID,Z=yc(U,S,W,Y);if(Y){this.count=X;this.nodes=Z;return this}return new dc(L,X,Z)};function ec(L,M,N){this.ownerID=L;this.keyHash=M;this.entries=N}ec.prototype.get=function(L,M,N,O){var P=this.entries;for(var Q=0,R=P.length;Q<R;Q++)if(u(N,P[Q][0]))return P[Q][1];return O};ec.prototype.update=function(L,M,N,O,P,Q,R){if(N===undefined)N=v(O);var S=P===f;if(N!==this.keyHash){if(S)return this;g(R);g(Q);return pc(this,L,M,N,[O,P])}var T=this.entries,U=0;for(var V=T.length;U<V;U++)if(u(O,T[U][0]))break;var W=U<V;if(W?T[U][1]===P:S)return this;g(R);(S||!W)&&g(Q);if(S&&V===2)return new fc(L,this.keyHash,T[U^1]);var X=L&&L===this.ownerID,Y=X?T:ma(T);if(W)if(S)U===V-1?Y.pop():Y[U]=Y.pop();else Y[U]=[O,P];else Y.push([O,P]);if(X){this.entries=Y;return this}return new ec(L,this.keyHash,Y)};function fc(L,M,N){this.ownerID=L;this.keyHash=M;this.entry=N}fc.prototype.get=function(L,M,N,O){return u(N,this.entry[0])?this.entry[1]:O};fc.prototype.update=function(L,M,N,O,P,Q,R){var S=P===f,T=u(O,this.entry[0]);if(T?P===this.entry[1]:S)return this;g(R);if(S){g(Q);return}if(T){if(L&&L===this.ownerID){this.entry[1]=P;return this}return new fc(L,this.keyHash,[O,P])}g(Q);return pc(this,L,M,v(O),[O,P])};bc.prototype.iterate=ec.prototype.iterate=function(L,M){var N=this.entries;for(var O=0,P=N.length-1;O<=P;O++)if(L(N[M?P-O:O])===false)return false};cc.prototype.iterate=dc.prototype.iterate=function(L,M){var N=this.nodes;for(var O=0,P=N.length-1;O<=P;O++){var Q=N[M?P-O:O];if(Q&&Q.iterate(L,M)===false)return false}};fc.prototype.iterate=function(L,M){return L(this.entry)};b(gc,o);function gc(L,M,N){this._type=M;this._reverse=N;this._stack=L._root&&ic(L._root)}gc.prototype.next=function(){var L=this._type,M=this._stack;while(M){var N=M.node,O=M.index++,P;if(N.entry){if(O===0)return hc(L,N.entry)}else if(N.entries){P=N.entries.length-1;if(O<=P)return hc(L,N.entries[this._reverse?P-O:O])}else{P=N.nodes.length-1;if(O<=P){var Q=N.nodes[this._reverse?P-O:O];if(Q){if(Q.entry)return hc(L,Q.entry);M=this._stack=ic(Q,M)}continue}}M=this._stack=this._stack.__prev}return q()};function hc(L,M){return p(L,M[0],M[1])}function ic(L,M){return{node:L,index:0,__prev:M}}function jc(L,M,N,v){var O=Object.create(z);O.size=L;O._root=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var kc;function lc(){return kc||(kc=jc(0))}function mc(L,M,N){var O,P;if(!L._root){if(N===f)return L;P=1;O=new bc(L.__ownerID,[[M,N]])}else{var Q=ka(ia),R=ka(ja);O=nc(L._root,L.__ownerID,0,undefined,M,N,Q,R);if(!R.value)return L;P=L.size+(Q.value?N===f?-1:1:0)}if(L.__ownerID){L.size=P;L._root=O;L.__hash=undefined;L.__altered=true;return L}return O?jc(P,O):lc()}function nc(L,M,N,O,P,Q,R,S){if(!L){if(Q===f)return L;g(S);g(R);return new fc(M,O,[P,Q])}return L.update(M,N,O,P,Q,R,S)}function oc(L){return L.constructor===fc||L.constructor===ec}function pc(L,M,N,O,P){if(L.keyHash===O)return new ec(M,O,[L.entry,P]);var Q=(N===0?L.keyHash:L.keyHash>>>N)&e,R=(N===0?O:O>>>N)&e,S,T=Q===R?[pc(L,M,N+c,O,P)]:(S=new fc(M,O,P),Q<R?[L,S]:[S,L]);return new cc(M,1<<Q|1<<R,T)}function qc(L,M,N,O){if(!L)L=new la();var P=new fc(L,v(N),[N,O]);for(var Q=0;Q<M.length;Q++){var R=M[Q];P=P.update(L,0,undefined,R[0],R[1])}return P}function rc(L,M,N,O){var P=0,Q=0,R=new Array(N);for(var S=0,T=1,U=M.length;S<U;S++,T<<=1){var V=M[S];if(V!==undefined&&S!==O){P|=T;R[Q++]=V}}return new cc(L,P,R)}function sc(L,M,N,O,P){var Q=0,R=new Array(d);for(var S=0;N!==0;S++,N>>>=1)R[S]=N&1?M[Q++]:undefined;R[O]=P;return new dc(L,Q+1,R)}function tc(L,M,N){var O=[];for(var P=0;P<N.length;P++){var Q=N[P],R=i(Q);if(!k(Q))R=R.map(function(S){return db(S)});O.push(R)}return vc(L,M,O)}function uc(L){return function(M,N,O){return M&&M.mergeDeepWith&&k(N)?M.mergeDeepWith(L,N):L?L(M,N,O):N}}function vc(L,M,N){N=N.filter(function(O){return O.size!==0});if(N.length===0)return L;if(L.size===0&&!L.__ownerID&&N.length===1)return L.constructor(N[0]);return L.withMutations(function(L){var O=M?function(Q,R){L.update(R,f,function(S){return S===f?Q:M(S,Q,R)})}:function(Q,R){L.set(R,Q)};for(var P=0;P<N.length;P++)N[P].forEach(O)})}function wc(L,M,N,O){var P=L===f,Q=M.next();if(Q.done){var R=P?N:L,S=O(R);return S===R?L:S}xb(P||L&&L.set,"invalid keyPath");var T=Q.value,U=P?f:L.get(T,f),V=wc(U,M,N,O);return V===U?L:V===f?L.remove(T):(P?lc():L).set(T,V)}function xc(L){L=L-(L>>1&1431655765);L=(L&858993459)+(L>>2&858993459);L=L+(L>>4)&252645135;L=L+(L>>8);L=L+(L>>16);return L&127}function yc(L,M,N,O){var P=O?L:ma(L);P[M]=N;return P}function zc(L,M,N,O){var P=L.length+1;if(O&&M+1===P){L[M]=N;return L}var Q=new Array(P),R=0;for(var S=0;S<P;S++)if(S===M){Q[S]=N;R=-1}else Q[S]=L[S+R];return Q}function Ac(L,M,N){var O=L.length-1;if(N&&M===O){L.pop();return L}var P=new Array(O),Q=0;for(var R=0;R<O;R++){if(R===M)Q=1;P[R]=L[R+Q]}return P}var Bc=d/4,Cc=d/2,Dc=d/4;b(A,bb);function A(L){var M=Lc();if(L===null||L===undefined)return M;if(Ec(L))return L;var N=ua(L),O=N.size;if(O===0)return M;w(O);if(O>0&&O<d)return Jc(0,O,c,null,new Gc(N.toArray()));return M.withMutations(function(P){P.setSize(O);N.forEach(function(Q,R){return P.set(R,Q)})})}A.of=function(){return this(arguments)};A.prototype.toString=function(){return this.__toString("List [","]")};A.prototype.get=function(L,M){L=oa(this,L);if(L<0||L>=this.size)return M;L+=this._origin;var N=Pc(this,L);return N&&N.array[L&e]};A.prototype.set=function(L,M){return Mc(this,L,M)};A.prototype.remove=function(L){return!this.has(L)?this:L===0?this.shift():L===this.size-1?this.pop():this.splice(L,1)};A.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=this._origin=this._capacity=0;this._level=c;this._root=this._tail=null;this.__hash=undefined;this.__altered=true;return this}return Lc()};A.prototype.push=function(){var L=arguments,M=this.size;return this.withMutations(function(N){Qc(N,0,M+L.length);for(var O=0;O<L.length;O++)N.set(M+O,L[O])})};A.prototype.pop=function(){return Qc(this,0,-1)};A.prototype.unshift=function(){var L=arguments;return this.withMutations(function(M){Qc(M,-L.length);for(var N=0;N<L.length;N++)M.set(N,L[N])})};A.prototype.shift=function(){return Qc(this,1)};A.prototype.merge=function(){return Rc(this,undefined,arguments)};A.prototype.mergeWith=function(L){var M=a.call(arguments,1);return Rc(this,L,M)};A.prototype.mergeDeep=function(){return Rc(this,uc(undefined),arguments)};A.prototype.mergeDeepWith=function(L){var M=a.call(arguments,1);return Rc(this,uc(L),M)};A.prototype.setSize=function(L){return Qc(this,0,L)};A.prototype.slice=function(L,M){var N=this.size;if(qa(L,M,N))return this;return Qc(this,ra(L,N),sa(M,N))};A.prototype.__iterator=function(L,M){var N=0,O=Ic(this,M);return new o(function(){var P=O();return P===Hc?q():p(L,N++,P)})};A.prototype.__iterate=function(L,M){var N=0,O=Ic(this,M),P;while((P=O())!==Hc)if(L(P,N++,this)===false)break;return N};A.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;return this}return Jc(this._origin,this._capacity,this._level,this._root,this._tail,L,this.__hash)};function Ec(L){return!!(L&&L[Fc])}A.isList=Ec;var Fc="@@__IMMUTABLE_LIST__@@",B=A.prototype;B[Fc]=true;B[ha]=B.remove;B.setIn=z.setIn;B.deleteIn=B.removeIn=z.removeIn;B.update=z.update;B.updateIn=z.updateIn;B.mergeIn=z.mergeIn;B.mergeDeepIn=z.mergeDeepIn;B.withMutations=z.withMutations;B.asMutable=z.asMutable;B.asImmutable=z.asImmutable;B.wasAltered=z.wasAltered;function Gc(L,M){this.array=L;this.ownerID=M}Gc.prototype.removeBefore=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N>>>M&e;if(O>=this.array.length)return new Gc([],L);var P=O===0,Q;if(M>0){var R=this.array[O];Q=R&&R.removeBefore(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)for(var T=0;T<O;T++)S.array[T]=undefined;if(Q)S.array[O]=Q;return S};Gc.prototype.removeAfter=function(L,M,N){if(N===M?1<<M:this.array.length===0)return this;var O=N-1>>>M&e;if(O>=this.array.length)return this;var P=O===this.array.length-1,Q;if(M>0){var R=this.array[O];Q=R&&R.removeAfter(L,M-c,N);if(Q===R&&P)return this}if(P&&!Q)return this;var S=Oc(this,L);if(!P)S.array.pop();if(Q)S.array[O]=Q;return S};var Hc={};function Ic(L,M){var N=L._origin,O=L._capacity,P=Sc(O),Q=L._tail;return R(L._root,L._level,0);function R(U,V,W){return V===0?S(U,W):T(U,V,W)}function S(U,V){var W=V===P?Q&&Q.array:U&&U.array,X=V>N?0:N-V,Y=O-V;if(Y>d)Y=d;return function(){if(X===Y)return Hc;var Z=M?--Y:X++;return W&&W[Z]}}function T(U,V,W){var X,Y=U&&U.array,Z=W>N?0:N-W>>V,$=(O-W>>V)+1;if($>d)$=d;return function(){do{if(X){var Jd=X();if(Jd!==Hc)return Jd;X=null}if(Z===$)return Hc;var Kd=M?--$:Z++;X=R(Y&&Y[Kd],V-c,W+(Kd<<V))}while(true)}}}function Jc(L,M,N,O,P,Q,v){var R=Object.create(B);R.size=M-L;R._origin=L;R._capacity=M;R._level=N;R._root=O;R._tail=P;R.__ownerID=Q;R.__hash=v;R.__altered=false;return R}var Kc;function Lc(){return Kc||(Kc=Jc(0,0,c))}function Mc(L,M,N){M=oa(L,M);if(M>=L.size||M<0)return L.withMutations(function(L){M<0?Qc(L,M).set(0,N):Qc(L,0,M+1).set(M,N)});M+=L._origin;var O=L._tail,P=L._root,Q=ka(ja);if(M>=Sc(L._capacity))O=Nc(O,L.__ownerID,0,M,N,Q);else P=Nc(P,L.__ownerID,L._level,M,N,Q);if(!Q.value)return L;if(L.__ownerID){L._root=P;L._tail=O;L.__hash=undefined;L.__altered=true;return L}return Jc(L._origin,L._capacity,L._level,P,O)}function Nc(L,M,N,O,P,Q){var R=O>>>N&e,S=L&&R<L.array.length;if(!S&&P===undefined)return L;var T;if(N>0){var U=L&&L.array[R],V=Nc(U,M,N-c,O,P,Q);if(V===U)return L;T=Oc(L,M);T.array[R]=V;return T}if(S&&L.array[R]===P)return L;g(Q);T=Oc(L,M);if(P===undefined&&R===T.array.length-1)T.array.pop();else T.array[R]=P;return T}function Oc(L,M){if(M&&L&&M===L.ownerID)return L;return new Gc(L?L.array.slice():[],M)}function Pc(L,M){if(M>=Sc(L._capacity))return L._tail;if(M<1<<L._level+c){var N=L._root,O=L._level;while(N&&O>0){N=N.array[M>>>O&e];O-=c}return N}}function Qc(L,M,N){var O=L.__ownerID||new la(),P=L._origin,Q=L._capacity,R=P+M,S=N===undefined?Q:N<0?Q+N:P+N;if(R===P&&S===Q)return L;if(R>=S)return L.clear();var T=L._level,U=L._root,V=0;while(R+V<0){U=new Gc(U&&U.array.length?[undefined,U]:[],O);T+=c;V+=1<<T}if(V){R+=V;P+=V;S+=V;Q+=V}var W=Sc(Q),X=Sc(S);while(X>=1<<T+c){U=new Gc(U&&U.array.length?[U]:[],O);T+=c}var Y=L._tail,Z=X<W?Pc(L,S-1):X>W?new Gc([],O):Y;if(Y&&X>W&&R<Q&&Y.array.length){U=Oc(U,O);var $=U;for(var Jd=T;Jd>c;Jd-=c){var Kd=W>>>Jd&e;$=$.array[Kd]=Oc($.array[Kd],O)}$.array[W>>>c&e]=Y}if(S<Q)Z=Z&&Z.removeAfter(O,0,S);if(R>=X){R-=X;S-=X;T=c;U=null;Z=Z&&Z.removeBefore(O,0,R)}else if(R>P||X<W){V=0;while(U){var Ld=R>>>T&e;if(Ld!==X>>>T&e)break;if(Ld)V+=(1<<T)*Ld;T-=c;U=U.array[Ld]}if(U&&R>P)U=U.removeBefore(O,T,R-V);if(U&&X<W)U=U.removeAfter(O,T,X-V);if(V){R-=V;S-=V}}if(L.__ownerID){L.size=S-R;L._origin=R;L._capacity=S;L._level=T;L._root=U;L._tail=Z;L.__hash=undefined;L.__altered=true;return L}return Jc(R,S,T,U,Z)}function Rc(L,M,N){var O=[],P=0;for(var Q=0;Q<N.length;Q++){var R=N[Q],S=ua(R);if(S.size>P)P=S.size;if(!k(R))S=S.map(function(T){return db(T)});O.push(S)}if(P>L.size)L=L.setSize(P);return vc(L,M,O)}function Sc(L){return L<d?0:L-1>>>c<<c}b(C,y);function C(L){return L===null||L===undefined?Wc():Tc(L)?L:Wc().withMutations(function(M){var N=i(L);w(N.size);N.forEach(function(O,P){return M.set(P,O)})})}C.of=function(){return this(arguments)};C.prototype.toString=function(){return this.__toString("OrderedMap {","}")};C.prototype.get=function(L,M){var N=this._map.get(L);return N!==undefined?this._list.get(N)[1]:M};C.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._map.clear();this._list.clear();return this}return Wc()};C.prototype.set=function(L,M){return Xc(this,L,M)};C.prototype.remove=function(L){return Xc(this,L,f)};C.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()};C.prototype.__iterate=function(L,M){var N=this;return this._list.__iterate(function(O){return O&&L(O[1],O[0],N)},M)};C.prototype.__iterator=function(L,M){return this._list.fromEntrySeq().__iterator(L,M)};C.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L),N=this._list.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;this._list=N;return this}return Uc(M,N,L,this.__hash)};function Tc(L){return $b(L)&&wa(L)}C.isOrderedMap=Tc;C.prototype[Aa]=true;C.prototype[ha]=C.prototype.remove;function Uc(L,M,N,v){var O=Object.create(C.prototype);O.size=L?L.size:0;O._map=L;O._list=M;O.__ownerID=N;O.__hash=v;return O}var Vc;function Wc(){return Vc||(Vc=Uc(lc(),Lc()))}function Xc(L,M,N){var O=L._map,P=L._list,Q=O.get(M),R=Q!==undefined,S,T;if(N===f){if(!R)return L;if(P.size>=d&&P.size>=O.size*2){T=P.filter(function(U,V){return U!==undefined&&Q!==V});S=T.toKeyedSeq().map(function(U){return U[0]}).flip().toMap();if(L.__ownerID)S.__ownerID=T.__ownerID=L.__ownerID}else{S=O.remove(M);T=Q===P.size-1?P.pop():P.set(Q,undefined)}}else if(R){if(N===P.get(Q)[1])return L;S=O;T=P.set(Q,[M,N])}else{S=O.set(M,P.size);T=P.set(P.size,[M,N])}if(L.__ownerID){L.size=S.size;L._map=S;L._list=T;L.__hash=undefined;return L}return Uc(S,T)}b(D,bb);function D(L){return L===null||L===undefined?cd():Yc(L)?L:cd().unshiftAll(L)}D.of=function(){return this(arguments)};D.prototype.toString=function(){return this.__toString("Stack [","]")};D.prototype.get=function(L,M){var N=this._head;L=oa(this,L);while(N&&L--)N=N.next;return N?N.value:M};D.prototype.peek=function(){return this._head&&this._head.value};D.prototype.push=function(){if(arguments.length===0)return this;var L=this.size+arguments.length,M=this._head;for(var N=arguments.length-1;N>=0;N--)M={value:arguments[N],next:M};if(this.__ownerID){this.size=L;this._head=M;this.__hash=undefined;this.__altered=true;return this}return ad(L,M)};D.prototype.pushAll=function(L){L=ua(L);if(L.size===0)return this;w(L.size);var M=this.size,N=this._head;L.reverse().forEach(function(O){M++;N={value:O,next:N}});if(this.__ownerID){this.size=M;this._head=N;this.__hash=undefined;this.__altered=true;return this}return ad(M,N)};D.prototype.pop=function(){return this.slice(1)};D.prototype.unshift=function(){return this.push.apply(this,arguments)};D.prototype.unshiftAll=function(L){return this.pushAll(L)};D.prototype.shift=function(){return this.pop.apply(this,arguments)};D.prototype.clear=function(){if(this.size===0)return this;if(this.__ownerID){this.size=0;this._head=undefined;this.__hash=undefined;this.__altered=true;return this}return cd()};D.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;var N=ra(L,this.size),O=sa(M,this.size);if(O!==this.size)return bb.prototype.slice.call(this,L,M);var P=this.size-N,Q=this._head;while(N--)Q=Q.next;if(this.__ownerID){this.size=P;this._head=Q;this.__hash=undefined;this.__altered=true;return this}return ad(P,Q)};D.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;if(!L){this.__ownerID=L;this.__altered=false;return this}return ad(this.size,this._head,L,this.__hash)};D.prototype.__iterate=function(L,M){if(M)return this.reverse().__iterate(L);var N=0,O=this._head;while(O){if(L(O.value,N++,this)===false)break;O=O.next}return N};D.prototype.__iterator=function(L,M){if(M)return this.reverse().__iterator(L);var N=0,O=this._head;return new o(function(){if(O){var P=O.value;O=O.next;return p(L,N++,P)}return q()})};function Yc(L){return!!(L&&L[Zc])}D.isStack=Yc;var Zc="@@__IMMUTABLE_STACK__@@",$c=D.prototype;$c[Zc]=true;$c.withMutations=z.withMutations;$c.asMutable=z.asMutable;$c.asImmutable=z.asImmutable;$c.wasAltered=z.wasAltered;function ad(L,M,N,v){var O=Object.create($c);O.size=L;O._head=M;O.__ownerID=N;O.__hash=v;O.__altered=false;return O}var bd;function cd(){return bd||(bd=ad(0))}b(E,cb);function E(L){return L===null||L===undefined?id():dd(L)?L:id().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}E.of=function(){return this(arguments)};E.fromKeys=function(L){return this(i(L).keySeq())};E.prototype.toString=function(){return this.__toString("Set {","}")};E.prototype.has=function(L){return this._map.has(L)};E.prototype.add=function(L){return fd(this,this._map.set(L,true))};E.prototype.remove=function(L){return fd(this,this._map.remove(L))};E.prototype.clear=function(){return fd(this,this._map.clear())};E.prototype.union=function(){var L=a.call(arguments,0);L=L.filter(function(M){return M.size!==0});if(L.length===0)return this;if(this.size===0&&!this.__ownerID&&L.length===1)return this.constructor(L[0]);return this.withMutations(function(M){for(var N=0;N<L.length;N++)j(L[N]).forEach(function(O){return M.add(O)})})};E.prototype.intersect=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(!L.every(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.subtract=function(){var L=a.call(arguments,0);if(L.length===0)return this;L=L.map(function(N){return j(N)});var M=this;return this.withMutations(function(N){M.forEach(function(O){if(L.some(function(P){return P.includes(O)}))N.remove(O)})})};E.prototype.merge=function(){return this.union.apply(this,arguments)};E.prototype.mergeWith=function(L){var M=a.call(arguments,1);return this.union.apply(this,M)};E.prototype.sort=function(L){return jd(Pb(this,L))};E.prototype.sortBy=function(L,M){return jd(Pb(this,M,L))};E.prototype.wasAltered=function(){return this._map.wasAltered()};E.prototype.__iterate=function(L,M){var N=this;return this._map.__iterate(function(O,P){return L(P,P,N)},M)};E.prototype.__iterator=function(L,M){return this._map.map(function(N,O){return O}).__iterator(L,M)};E.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return this.__make(M,L)};function dd(L){return!!(L&&L[ed])}E.isSet=dd;var ed="@@__IMMUTABLE_SET__@@",F=E.prototype;F[ed]=true;F[ha]=F.remove;F.mergeDeep=F.merge;F.mergeDeepWith=F.mergeWith;F.withMutations=z.withMutations;F.asMutable=z.asMutable;F.asImmutable=z.asImmutable;F.__empty=id;F.__make=gd;function fd(L,M){if(L.__ownerID){L.size=M.size;L._map=M;return L}return M===L._map?L:M.size===0?L.__empty():L.__make(M)}function gd(L,M){var N=Object.create(F);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var hd;function id(){return hd||(hd=gd(lc()))}b(jd,E);function jd(L){return L===null||L===undefined?od():kd(L)?L:od().withMutations(function(M){var N=j(L);w(N.size);N.forEach(function(O){return M.add(O)})})}jd.of=function(){return this(arguments)};jd.fromKeys=function(L){return this(i(L).keySeq())};jd.prototype.toString=function(){return this.__toString("OrderedSet {","}")};function kd(L){return dd(L)&&wa(L)}jd.isOrderedSet=kd;var ld=jd.prototype;ld[Aa]=true;ld.__empty=od;ld.__make=md;function md(L,M){var N=Object.create(ld);N.size=L?L.size:0;N._map=L;N.__ownerID=M;return N}var nd;function od(){return nd||(nd=md(Wc()))}b(G,ab);function G(L,M){var N,O=function G(Q){if(Q instanceof O)return Q;if(!(this instanceof O))return new O(Q);if(!N){N=true;var R=Object.keys(L);rd(P,R);P.size=R.length;P._name=M;P._keys=R;P._defaultValues=L}this._map=y(Q)},P=O.prototype=Object.create(H);P.constructor=O;return O}G.prototype.toString=function(){return this.__toString(qd(this)+" {","}")};G.prototype.has=function(L){return this._defaultValues.hasOwnProperty(L)};G.prototype.get=function(L,M){if(!this.has(L))return M;var N=this._defaultValues[L];return this._map?this._map.get(L,N):N};G.prototype.clear=function(){if(this.__ownerID){this._map&&this._map.clear();return this}var L=this.constructor;return L._empty||(L._empty=pd(this,lc()))};G.prototype.set=function(L,M){if(!this.has(L))throw new Error('Cannot set unknown key "'+L+'" on '+qd(this));var N=this._map&&this._map.set(L,M);if(this.__ownerID||N===this._map)return this;return pd(this,N)};G.prototype.remove=function(L){if(!this.has(L))return this;var M=this._map&&this._map.remove(L);if(this.__ownerID||M===this._map)return this;return pd(this,M)};G.prototype.wasAltered=function(){return this._map.wasAltered()};G.prototype.__iterator=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterator(L,M)};G.prototype.__iterate=function(L,M){var N=this;return i(this._defaultValues).map(function(O,P){return N.get(P)}).__iterate(L,M)};G.prototype.__ensureOwner=function(L){if(L===this.__ownerID)return this;var M=this._map&&this._map.__ensureOwner(L);if(!L){this.__ownerID=L;this._map=M;return this}return pd(this,M,L)};var H=G.prototype;H[ha]=H.remove;H.deleteIn=H.removeIn=z.removeIn;H.merge=z.merge;H.mergeWith=z.mergeWith;H.mergeIn=z.mergeIn;H.mergeDeep=z.mergeDeep;H.mergeDeepWith=z.mergeDeepWith;H.mergeDeepIn=z.mergeDeepIn;H.setIn=z.setIn;H.update=z.update;H.updateIn=z.updateIn;H.withMutations=z.withMutations;H.asMutable=z.asMutable;H.asImmutable=z.asImmutable;function pd(L,M,N){var O=Object.create(Object.getPrototypeOf(L));O._map=M;O.__ownerID=N;return O}function qd(L){return L._name||L.constructor.name||"Record"}function rd(L,M){try{M.forEach(sd.bind(undefined,L))}catch(N){}}function sd(L,M){Object.defineProperty(L,M,{get:function(){return this.get(M)},set:function(N){xb(this.__ownerID,"Cannot set on an immutable record.");this.set(M,N)}})}function td(L,M){if(L===M)return true;if(!k(M)||L.size!==undefined&&M.size!==undefined&&L.size!==M.size||L.__hash!==undefined&&M.__hash!==undefined&&L.__hash!==M.__hash||l(L)!==l(M)||m(L)!==m(M)||wa(L)!==wa(M))return false;if(L.size===0&&M.size===0)return true;var N=!va(L);if(wa(L)){var O=L.entries();return M.every(function(T,U){var V=O.next().value;return V&&u(V[1],T)&&(N||u(V[0],U))})&&O.next().done}var P=false;if(L.size===undefined)if(M.size===undefined){if(typeof L.cacheResult==="function")L.cacheResult()}else{P=true;var Q=L;L=M;M=Q}var R=true,S=M.__iterate(function(T,U){if(N?!L.has(T):P?!u(T,L.get(U,f)):!u(L.get(U,f),T)){R=false;return false}});return R&&L.size===S}b(I,t);function I(L,M,N){if(!(this instanceof I))return new I(L,M,N);xb(N!==0,"Cannot step a Range by 0");L=L||0;if(M===undefined)M=Infinity;N=N===undefined?1:Math.abs(N);if(M<L)N=-N;this._start=L;this._end=M;this._step=N;this.size=Math.max(0,Math.ceil((M-L)/N-1)+1);if(this.size===0){if(ud)return ud;ud=this}}I.prototype.toString=function(){if(this.size===0)return"Range []";return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"};I.prototype.get=function(L,M){return this.has(L)?this._start+oa(this,L)*this._step:M};I.prototype.includes=function(L){var M=(L-this._start)/this._step;return M>=0&&M<this.size&&M===Math.floor(M)};I.prototype.slice=function(L,M){if(qa(L,M,this.size))return this;L=ra(L,this.size);M=sa(M,this.size);if(M<=L)return new I(0,0);return new I(this.get(L,this._end),this.get(M,this._end),this._step)};I.prototype.indexOf=function(L){var M=L-this._start;if(M%this._step===0){var N=M/this._step;if(N>=0&&N<this.size)return N}return-1};I.prototype.lastIndexOf=function(L){return this.indexOf(L)};I.prototype.__iterate=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start;for(var Q=0;Q<=N;Q++){if(L(P,Q,this)===false)return Q+1;P+=M?-O:O}return Q};I.prototype.__iterator=function(L,M){var N=this.size-1,O=this._step,P=M?this._start+N*O:this._start,Q=0;return new o(function(){var R=P;P+=M?-O:O;return Q>N?q():p(L,Q++,R)})};I.prototype.equals=function(L){return L instanceof I?this._start===L._start&&this._end===L._end&&this._step===L._step:td(this,L)};var ud;b(J,t);function J(L,M){if(!(this instanceof J))return new J(L,M);this._value=L;this.size=M===undefined?Infinity:Math.max(0,M);if(this.size===0){if(vd)return vd;vd=this}}J.prototype.toString=function(){if(this.size===0)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"};J.prototype.get=function(L,M){return this.has(L)?this._value:M};J.prototype.includes=function(L){return u(this._value,L)};J.prototype.slice=function(L,M){var N=this.size;return qa(L,M,N)?this:new J(this._value,sa(M,N)-ra(L,N))};J.prototype.reverse=function(){return this};J.prototype.indexOf=function(L){if(u(this._value,L))return 0;return-1};J.prototype.lastIndexOf=function(L){if(u(this._value,L))return this.size;return-1};J.prototype.__iterate=function(L,M){for(var N=0;N<this.size;N++)if(L(this._value,N,this)===false)return N+1;return N};J.prototype.__iterator=function(L,M){var N=this,O=0;return new o(function(){return O<N.size?p(L,O++,N._value):q()})};J.prototype.equals=function(L){return L instanceof J?u(this._value,L._value):td(L)};var vd;function wd(L,M){var N=function(O){L.prototype[O]=M[O]};Object.keys(M).forEach(N);Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(M).forEach(N);return L}h.Iterator=o;wd(h,{toArray:function(){w(this.size);var L=new Array(this.size||0);this.valueSeq().__iterate(function(M,N){L[N]=M});return L},toIndexedSeq:function(){return new zb(this)},toJS:function(){return this.toSeq().map(function(L){return L&&typeof L.toJS==="function"?L.toJS():L}).__toJS()},toJSON:function(){return this.toSeq().map(function(L){return L&&typeof L.toJSON==="function"?L.toJSON():L}).__toJS()},toKeyedSeq:function(){return new yb(this,true)},toMap:function(){return y(this.toKeyedSeq())},toObject:function(){w(this.size);var L={};this.__iterate(function(M,N){L[N]=M});return L},toOrderedMap:function(){return C(this.toKeyedSeq())},toOrderedSet:function(){return jd(l(this)?this.valueSeq():this)},toSet:function(){return E(l(this)?this.valueSeq():this)},toSetSeq:function(){return new Ab(this)},toSeq:function(){return m(this)?this.toIndexedSeq():l(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return D(l(this)?this.valueSeq():this)},toList:function(){return A(l(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(L,M){if(this.size===0)return L+M;return L+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+M},concat:function(){var L=a.call(arguments,0);return x(this,Lb(this,L))},contains:function(L){return this.includes(L)},includes:function(L){return this.some(function(M){return u(M,L)})},entries:function(){return this.__iterator(Ca)},every:function(L,M){w(this.size);var N=true;this.__iterate(function(O,P,Q){if(!L.call(M,O,P,Q)){N=false;return false}});return N},filter:function(L,M){return x(this,Fb(this,L,M,true))},find:function(L,M,N){var O=this.findEntry(L,M);return O?O[1]:N},findEntry:function(L,M){var N;this.__iterate(function(O,P,Q){if(L.call(M,O,P,Q)){N=[P,O];return false}});return N},findLastEntry:function(L,M){return this.toSeq().reverse().findEntry(L,M)},forEach:function(L,M){w(this.size);return this.__iterate(M?L.bind(M):L)},join:function(L){w(this.size);L=L!==undefined?""+L:",";var M="",N=true;this.__iterate(function(O){N?N=false:M+=L;M+=O!==null&&O!==undefined?O.toString():""});return M},keys:function(){return this.__iterator(Ba)},map:function(L,M){return x(this,Db(this,L,M))},reduce:function(L,M,N){w(this.size);var O,P;if(arguments.length<2)P=true;else O=M;this.__iterate(function(Q,R,S){if(P){P=false;O=Q}else O=L.call(N,O,Q,R,S)});return O},reduceRight:function(L,M,N){var O=this.toKeyedSeq().reverse();return O.reduce.apply(O,arguments)},reverse:function(){return x(this,Eb(this,true))},slice:function(L,M){return x(this,Ib(this,L,M,true))},some:function(L,M){return!this.every(Ad(L),M)},sort:function(L){return x(this,Pb(this,L))},values:function(){return this.__iterator(n)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==undefined?this.size===0:!this.some(function(){return true})},count:function(L,M){return na(L?this.toSeq().filter(L,M):this)},countBy:function(L,M){return Gb(this,L,M)},equals:function(L){return td(this,L)},entrySeq:function(){var L=this;if(L._cache)return new Na(L._cache);var M=L.toSeq().map(zd).toIndexedSeq();M.fromEntrySeq=function(){return L.toSeq()};return M},filterNot:function(L,M){return this.filter(Ad(L),M)},findLast:function(L,M,N){return this.toKeyedSeq().reverse().find(L,M,N)},first:function(){return this.find(pa)},flatMap:function(L,M){return x(this,Nb(this,L,M))},flatten:function(L){return x(this,Mb(this,L,true))},fromEntrySeq:function(){return new Bb(this)},get:function(L,M){return this.find(function(N,O){return u(O,L)},undefined,M)},getIn:function(L,M){var N=this,O=Zb(L),P;while(!(P=O.next()).done){var Q=P.value;N=N&&N.get?N.get(Q,f):f;if(N===f)return M}return N},groupBy:function(L,M){return Hb(this,L,M)},has:function(L){return this.get(L,f)!==f},hasIn:function(L){return this.getIn(L,f)!==f},isSubset:function(L){L=typeof L.includes==="function"?L:h(L);return this.every(function(M){return L.includes(M)})},isSuperset:function(L){return L.isSubset(this)},keySeq:function(){return this.toSeq().map(yd).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(L){return Qb(this,L)},maxBy:function(L,M){return Qb(this,M,L)},min:function(L){return Qb(this,L?Bd(L):Ed)},minBy:function(L,M){return Qb(this,M?Bd(M):Ed,L)},rest:function(){return this.slice(1)},skip:function(L){return this.slice(Math.max(0,L))},skipLast:function(L){return x(this,this.toSeq().reverse().skip(L).reverse())},skipWhile:function(L,M){return x(this,Kb(this,L,M,true))},skipUntil:function(L,M){return this.skipWhile(Ad(L),M)},sortBy:function(L,M){return x(this,Pb(this,M,L))},take:function(L){return this.slice(0,Math.max(0,L))},takeLast:function(L){return x(this,this.toSeq().reverse().take(L).reverse())},takeWhile:function(L,M){return x(this,Jb(this,L,M))},takeUntil:function(L,M){return this.takeWhile(Ad(L),M)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Fd(this))}});var K=h.prototype;K[xa]=true;K[Fa]=K.values;K.__toJS=K.toArray;K.__toStringMapper=Cd;K.inspect=K.toSource=function(){return this.toString()};K.chain=K.flatMap;(function(){try{Object.defineProperty(K,"length",{get:function(){if(!h.noLengthWarning){var M;try{throw new Error()}catch(N){M=N.stack}if(M.indexOf("_wrapObject")===-1){console&&emptyFunction&&false;return this.size}}}})}catch(L){}})();wd(i,{flip:function(){return x(this,Cb(this))},findKey:function(L,M){var N=this.findEntry(L,M);return N&&N[0]},findLastKey:function(L,M){return this.toSeq().reverse().findKey(L,M)},keyOf:function(L){return this.findKey(function(M){return u(M,L)})},lastKeyOf:function(L){return this.findLastKey(function(M){return u(M,L)})},mapEntries:function(L,M){var N=this,O=0;return x(this,this.toSeq().map(function(P,Q){return L.call(M,[Q,P],O++,N)}).fromEntrySeq())},mapKeys:function(L,M){var N=this;return x(this,this.toSeq().flip().map(function(O,P){return L.call(M,O,P,N)}).flip())}});var xd=i.prototype;xd[ya]=true;xd[Fa]=K.entries;xd.__toJS=K.toObject;xd.__toStringMapper=function(L,M){return JSON.stringify(M)+": "+Cd(L)};wd(ua,{toKeyedSeq:function(){return new yb(this,false)},filter:function(L,M){return x(this,Fb(this,L,M,false))},findIndex:function(L,M){var N=this.findEntry(L,M);return N?N[0]:-1},indexOf:function(L){var M=this.toKeyedSeq().keyOf(L);return M===undefined?-1:M},lastIndexOf:function(L){return this.toSeq().reverse().indexOf(L)},reverse:function(){return x(this,Eb(this,false))},slice:function(L,M){return x(this,Ib(this,L,M,false))},splice:function(L,M){var N=arguments.length;M=Math.max(M|0,0);if(N===0||N===2&&!M)return this;L=ra(L,this.size);var O=this.slice(0,L);return x(this,N===1?O:O.concat(ma(arguments,2),this.slice(L+M)))},findLastIndex:function(L,M){var N=this.toKeyedSeq().findLastKey(L,M);return N===undefined?-1:N},first:function(){return this.get(0)},flatten:function(L){return x(this,Mb(this,L,false))},get:function(L,M){L=oa(this,L);return L<0||this.size===Infinity||this.size!==undefined&&L>this.size?M:this.find(function(N,O){return O===L},undefined,M)},has:function(L){L=oa(this,L);return L>=0&&(this.size!==undefined?this.size===Infinity||L<this.size:this.indexOf(L)!==-1)},interpose:function(L){return x(this,Ob(this,L))},interleave:function(){var L=[this].concat(ma(arguments)),M=Sb(this.toSeq(),t.of,L),N=M.flatten(true);if(M.size)N.size=M.size*L.length;return x(this,N)},last:function(){return this.get(-1)},skipWhile:function(L,M){return x(this,Kb(this,L,M,false))},zip:function(){var L=[this].concat(ma(arguments));return x(this,Sb(this,Dd,L))},zipWith:function(L){var M=ma(arguments);M[0]=this;return x(this,Sb(this,L,M))}});ua.prototype[za]=true;ua.prototype[Aa]=true;wd(j,{get:function(L,M){return this.has(L)?L:M},includes:function(L){return this.has(L)},keySeq:function(){return this.valueSeq()}});j.prototype.has=K.includes;wd(s,i.prototype);wd(t,ua.prototype);wd(La,j.prototype);wd(ab,i.prototype);wd(bb,ua.prototype);wd(cb,j.prototype);function yd(L,M){return M}function zd(L,M){return[M,L]}function Ad(L){return function(){return!L.apply(this,arguments)}}function Bd(L){return function(){return-L.apply(this,arguments)}}function Cd(L){return typeof L==="string"?JSON.stringify(L):L}function Dd(){return ma(arguments)}function Ed(L,M){return L<M?1:L>M?-1:0}function Fd(L){if(L.size===Infinity)return 0;var M=wa(L),N=l(L),O=M?1:0,P=L.__iterate(N?M?function(Q,R){O=31*O+Hd(v(Q),v(R))|0}:function(Q,R){O=O+Hd(v(Q),v(R))|0}:M?function(Q){O=31*O+v(Q)|0}:function(Q){O=O+v(Q)|0});return Gd(P,O)}function Gd(L,M){M=hb(M,3432918353);M=hb(M<<15|M>>>-15,461845907);M=hb(M<<13|M>>>-13,5);M=(M+3864292196|0)^L;M=hb(M^M>>>16,2246822507);M=hb(M^M>>>13,3266489909);M=ib(M^M>>>16);return M}function Hd(L,M){return L^M+2654435769+(L<<6)+(L>>2)|0}var Id={Iterable:h,Seq:r,Collection:$a,Map:y,OrderedMap:C,List:A,Stack:D,Set:E,OrderedSet:jd,Record:G,Range:I,Repeat:J,is:u,fromJS:db};return Id})}),null);
__d("MSearchBootstrapEntityModule",["BrowseWebSLRPELoggerClickType","CSS","DOM","immutable","MGraphSearchTypeaheadTouchSource","MPageFetcher","MRequest","MRequestTypes","MSearchBootstrapEntityModuleLoggingUtils","MSearchBootstrapEntityModuleSettings","MSearchEntityResult","MSearchSimplificationUtils","MViewport","SearchEntityModuleServerConstants","Stratcom","Style","SubscriptionsHandler","URI","XTrackableImpressionController","csx","cx","fbt","generateBrowseSessionID"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D){"use strict";__p&&__p();function E(F){__p&&__p();this.$MSearchBootstrapEntityModule2=function(){__p&&__p();var G=this.state.query,H=k.List(this.source.getMatchedResults(G));if(H.size===0){this.setState({results:k.List(),resultType:null,isVisible:false,sessionID:D({appName:"mtouch",edge:"keywords_search"})});return}H.forEach(function(O){if(O.type==="app")O.type="application";if(O.render_type==="place")O.type="place"});var I=H.first(),J=I.type;if(J==null){this.setState({results:k.List(),isVisible:false,sessionID:D({appName:"mtouch",edge:"keywords_search"})});return}H=H.filter(function(O){return O.render_type===J||O.type===J});var K=D({appName:"mtouch",edge:"keywords_search"}),L=s.isCurrentPathTopTabPath(),M=s.isTypeaheadOpen();this.setState({results:H,isVisible:H.size>0&&(this.state.serpIsLoading||L&&!M),sessionID:K});p.logUnitData(this.state.sessionID,this.state.results,this.state.query);p.initVPVDLogging();this.resultsElement=j.create("div",p.getModuleTrackingData(this.state.sessionID,h.VIEW_PORT_VIEWS_ON_SEARCH_RESULTS));var N=H.map(function(O,P){O.uri=new y(O.uri).addQueryData({refid:u.MTOUCH_SEARCH_REFID,ref:u.BROWSE_NAV_SOURCE_CONTENT_FILTERS,__xt__:p.getSerializedResultTrackingData(this.state.sessionID,O,H,h.ITEM_IN_MODULE_TAPPED)}).toString();return[this.$MSearchBootstrapEntityModule7(O),r({result:O})]}.bind(this)).toArray();this.footer=this.$MSearchBootstrapEntityModule8(J,G);j.setContent(this.resultsElement,[this.$MSearchBootstrapEntityModule9(J),j.create("div",{},N),this.footer]);j.setContent(this.root,this.resultsElement)}.bind(this);this.$MSearchBootstrapEntityModule3=function(){var G=s.isCurrentPathSERPPath(),H=s.isCurrentPathTopTabPath(),I=s.isTypeaheadOpen(),J=s.getQueryFromCurrentPath(),K=this.state.query;if(J!=null)K=J;this.setState({query:K,isVisible:H&&!I&&this.state.results.size>0,spinnerIsVisible:G&&!I&&this.state.serpIsLoading});if(H)t.scrollToHeader()}.bind(this);this.$MSearchBootstrapEntityModule4=function(){var G=s.isCurrentPathSERPPath();this.setState({footerIsVisible:false,spinnerIsVisible:G,serpIsLoading:G})}.bind(this);this.$MSearchBootstrapEntityModule5=function(){__p&&__p();this.setState({spinnerIsVisible:false,serpIsLoading:false});var G=s.isCurrentPathTopTabPath();if(!G)return;var H=this.state.results;if(H.size===0)return;var I=H.first(),J=I.render_type!=null?I.render_type:I.type,K=document.querySelector("._45fx [data-module-result-type]");if(K==null||K.getAttribute("data-module-result-type")!==J)this.setState({footerIsVisible:true});else if(K!=null)w.set(K,"margin-top",0)}.bind(this);this.$MSearchBootstrapEntityModule6=function(G,H,I){var J,K=this.state.results;if(!s.isTopTabURI(H)||K.size===0)return null;var L=K.first(),M=L.render_type!=null?L.render_type:L.type;return new n(H.toString()).setType(o.TRANSITION).setFullPage(true).setMethod(G).addData((J={preloaded_entity_ids:K.map(function(N){return N.id}).toArray(),preloaded_entity_type:M},J[u.SERP_SESSION_ID]=this.state.sessionID,J))}.bind(this);this.typeahead=F}E.prototype.enable=function(){this.state={query:this.typeahead.getValue(),isVisible:false,spinnerIsVisible:false,footerIsVisible:false,serpIsLoading:false,results:k.List(),sessionID:D({appName:"mtouch",edge:"keywords_search"})};this.$MSearchBootstrapEntityModule1();this.source=new l(q.bootstrapSource,q.bootstrapKey);this.source.clientRendered=true;this.source.setMaximumResultCount(q.maxBootstrapResults);this.subscriptions=new x();this.subscriptions.addSubscriptions(this.source.listen("resultsready",this.$MSearchBootstrapEntityModule2),v.listen("m:history:change",null,this.$MSearchBootstrapEntityModule3),v.listen("m:page:request-sent",null,this.$MSearchBootstrapEntityModule4),v.listen("m:page:render:complete",null,this.$MSearchBootstrapEntityModule5));this.source.didStart();m.addHandler(this.$MSearchBootstrapEntityModule6)};E.prototype.disable=function(){this.subscriptions.release();j.remove(this.root)};E.prototype.$MSearchBootstrapEntityModule1=function(){__p&&__p();this.root=j.create("div",{className:"_234-"});if(this.state.isVisible)j.show(this.root);else j.hide(this.root);j.appendContent(this.typeahead.getRoot(),this.root);this.spinner=j.create("div",{className:"_5_ee"},j.create("div",{className:"_55ym _55yq"}));if(this.state.spinnerIsVisible)j.show(this.spinner);else j.hide(this.spinner);j.appendContent(this.typeahead.getRoot(),this.spinner)};E.prototype.$MSearchBootstrapEntityModule10=function(F){__p&&__p();var G=null;switch(F){case"user":G=C._("People");break;case"page":G=C._("Pages");break;case"group":G=C._("Groups");break;case"application":G=C._("Apps");break;case"place":G=C._("Places");break;case"event":G=C._("Events");break}return G};E.prototype.$MSearchBootstrapEntityModule9=function(F){return j.create("div",{className:"_5_50"+(F==="user"?" _5_51":"")+(F==="page"?" _234_":"")+(F==="group"?" _2350":"")+(F==="application"?" _2351":"")+(F==="place"?" _2352":"")+(F==="event"?" _2353":"")},this.$MSearchBootstrapEntityModule10(F))};E.prototype.$MSearchBootstrapEntityModule8=function(F,G){var H=new y(u.TYPE_TO_SERP_PATH[F]).setQueryData({q:G,source:"pivot",tsid:this.typeahead.getSessionID(),__xt__:p.getModuleTrackingData(this.state.sessionID,h.SEE_MORE_TAPPED)["data-xt"]});if(this.footer!=null)this.footer.setAttribute("href",H.toString());else this.footer=j.create("a",{href:H.toString(),className:"_235a"},C._("See all"));if(this.state.footerIsVisible)j.show(this.footer);else j.hide(this.footer);return this.footer};E.prototype.$MSearchBootstrapEntityModule7=function(F){var G=z.getURIBuilder().setString("xt",p.getSerializedResultTrackingData(this.state.sessionID,F,this.state.results)).getURI(),H=j.create("iframe",{src:new y(G),width:0,height:0,frameborder:0,scrolling:"no",className:"fbEmuTracking"});H.setAttribute("aria-hidden","true");return H};E.prototype.setState=function(F){__p&&__p();var G=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,F);if(G.query!==this.state.query)this.source.didChange(this.state.query);if(G.isVisible!==this.state.isVisible)if(this.state.isVisible){j.show(this.root);i.addClass(this.spinner,"_5_ef")}else{j.hide(this.root);i.removeClass(this.spinner,"_5_ef")}if(G.serpIsLoading!==this.state.serpIsLoading||G.footerIsVisible!==this.state.footerIsVisible)if(this.state.serpIsLoading)i.removeClass(this.root,"_5_eg");else if(!this.state.footerIsVisible)i.addClass(this.root,"_5_eg");else if(this.state.footerIsVisible)i.removeClass(this.root,"_5_eg");if(this.footer!=null&&G.footerIsVisible!==this.state.footerIsVisible)if(this.state.footerIsVisible)j.show(this.footer);else j.hide(this.footer);if(G.spinnerIsVisible!==this.state.spinnerIsVisible)if(this.state.spinnerIsVisible)j.show(this.spinner);else j.hide(this.spinner)};f.exports=E}),null);
__d("MSearchConst",[],(function a(b,c,d,e,f,g){f.exports={refid:46,news_search:"news",video_search:"video",content_search:"content",msite_news_null_state:"mnns",msite_news_non_gs_null_state:"mnngns",event_click:"click",event_impression:"imp"}}),null);
__d("XMobileSearchTrendingLoggingController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/graphsearch/trending/logging/",{topic_ids:{type:"IntVector",required:true},source:{type:"String",required:true},positions:{type:"IntVector",required:true},query_id:{type:"Int",required:true},event:{type:"String",required:true}})}),null);
__d("MSearchTrendingLogger",["MRequest","MSearchConst","Run","Stratcom","XMobileSearchTrendingLoggingController","forEachObject"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){__p&&__p();var n=null,o={registerTrendingTopicListeners:function p(q,r,s,t){__p&&__p();var u,v=this;if(!n){n={};j.onLeave(function(){m(n,function(z){return z.remove()});n=null})}var w=[],x=function x(y){var z=q[y];if(z==null||n[z])return"continue";n[z]=k.listen("click",z,function(){this._logTrendingTopicClick(z,r,s[y],t)}.bind(v));w.push(n[z])};for(var y=0;y<q.length;y++){var u=x(y);if(u==="continue")continue}return w},logTrendingTopicImpressions:function p(q,r,s,t){__p&&__p();if(!q||q.length===0)return;for(var u=0;u<q.length;u++)if(q[u]==null){q.splice(u,1);s.splice(u,1);u--}var v=l.getURIBuilder().setIntVector("topic_ids",q).setString("source",r).setIntVector("positions",s).setInt("query_id",t).setString("event",i.event_impression).getURI(),w=new h(v);w.send()},_logTrendingTopicClick:function p(q,r,s,t){if(!q)return;return function(){var u=l.getURIBuilder().setIntVector("topic_ids",[q]).setString("source",r).setIntVector("positions",[s]).setInt("query_id",t).setString("event",i.event_click).getURI(),v=new h(u);v.send()}}};f.exports=o}),null);
__d("MSearchTypeaheadPerfLoggerV2",["Banzai","Stratcom","SubscriptionsHandler","URI"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();function l(m,n,o,p){__p&&__p();this.$MSearchTypeaheadPerfLoggerV211=3;this.$MSearchTypeaheadPerfLoggerV212=3;this.$MSearchTypeaheadPerfLoggerV22=n;this.$MSearchTypeaheadPerfLoggerV21=m;this.$MSearchTypeaheadPerfLoggerV24="mtouch_typeahead_log_perf";this.$MSearchTypeaheadPerfLoggerV25="mtouch_serp_log_perf";this.$MSearchTypeaheadPerfLoggerV28=p;this.$MSearchTypeaheadPerfLoggerV29="";this.$MSearchTypeaheadPerfLoggerV23={query:null,latencyData:[],typeaheadType:this.$MSearchTypeaheadPerfLoggerV22,sessionID:null,sessionStartTime:null,click:false,isBootstrapClick:false,isExactMatchKeywordClick:false,isNullStateClick:false,isSeeMoreClick:false};this.$MSearchTypeaheadPerfLoggerV214();this.$MSearchTypeaheadPerfLoggerV215()}l.prototype.$MSearchTypeaheadPerfLoggerV214=function(){__p&&__p();this.$MSearchTypeaheadPerfLoggerV213=new j();this.$MSearchTypeaheadPerfLoggerV213.addSubscriptions(i.listen("m-typeahead-logger:new-session-id",null,function(m){this.$MSearchTypeaheadPerfLoggerV216(m.getData().sessionID,m.getData().query)}.bind(this)),i.listen("log-m-search-session-end",null,function(m){this.$MSearchTypeaheadPerfLoggerV217();this.$MSearchTypeaheadPerfLoggerV215()}.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen("update",this.onQueryUpdated.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen("show",this.onResultsRendered.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen("select",this.onResultLinkReady.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen("on-enter-pressed",this.onEnterPressed.bind(this)),this.$MSearchTypeaheadPerfLoggerV21.listen("result-selected",this.onResultSelected.bind(this)),i.listen("m:page:render:complete",null,function(m){var n=new k(this.$MSearchTypeaheadPerfLoggerV29),o=new k(m.getData().path),p=Date.now()-this.$MSearchTypeaheadPerfLoggerV210;if(n.getPath()===o.getPath()&&p>=0){var q={tti:p,typeaheadType:this.$MSearchTypeaheadPerfLoggerV22,uriPath:n.getPath()};h.post(this.$MSearchTypeaheadPerfLoggerV25,q,{delay:this.$MSearchTypeaheadPerfLoggerV211,retry:true})}this.$MSearchTypeaheadPerfLoggerV29=""}.bind(this)))};l.prototype.destroy=function(){this.$MSearchTypeaheadPerfLoggerV213.release()};l.prototype.onEnterPressed=function(m){this.$MSearchTypeaheadPerfLoggerV29=m;this.$MSearchTypeaheadPerfLoggerV210=Date.now()};l.prototype.onResultLinkReady=function(m){this.$MSearchTypeaheadPerfLoggerV29=m.href;this.$MSearchTypeaheadPerfLoggerV210=Date.now()};l.prototype.onResultsRendered=function(m,n){__p&&__p();var o=this.$MSearchTypeaheadPerfLoggerV218(),p=this.$MSearchTypeaheadPerfLoggerV219(o);if(p==null)return;if(!this.$MSearchTypeaheadPerfLoggerV220())return;var q=Array.isArray(m)?this.$MSearchTypeaheadPerfLoggerV221(m):this.$MSearchTypeaheadPerfLoggerV221(m.show);if(this.$MSearchTypeaheadPerfLoggerV222(q))return;var r=m.show?q.map(function(v){return{isNullStateSuggestion:o==="",isFromCache:v.isFromCache,isSeeMore:v.isSeeMore}}):q,s=r.every(function(v){return v.isNullStateSuggestion||v.isSeeMore||v.exactMatchKeyword})&&r.some(function(v){return v.isNullStateSuggestion}),t=r.every(function(v){return v.exactMatchKeyword||v.isSeeMore}),u=r.every(function(v){return v.isFromCache||v.isSeeMore||v.exactMatchKeyword})&&r.some(function(v){return v.isFromCache})&&!t;this.$MSearchTypeaheadPerfLoggerV23.latencyData.push({query:o,allFromNullState:s,allFromCache:u,allFromEcho:t||q.length===0,latency:Date.now()-p});this.$MSearchTypeaheadPerfLoggerV27=q};l.prototype.onQueryUpdated=function(m){if(this.$MSearchTypeaheadPerfLoggerV220()){this.$MSearchTypeaheadPerfLoggerV23.query=m;this.$MSearchTypeaheadPerfLoggerV26[m]=Date.now()}};l.prototype.onResultSelected=function(m){__p&&__p();if(m.id){if(m.bootstrapped)this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick=true;else if(m.exactMatchKeyword)this.$MSearchTypeaheadPerfLoggerV23.isExactMatchKeywordClick=true;else if(m.isSeeMore)this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick=true;else if(m.isNullStateSuggestion)this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick=true}else if(m.rel>0){var n=this.$MSearchTypeaheadPerfLoggerV28.get(m);if(n)this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick=n.bootstrap==1;this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick=this.$MSearchTypeaheadPerfLoggerV218()===""}else this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick=true;this.$MSearchTypeaheadPerfLoggerV23.click=true};l.prototype.$MSearchTypeaheadPerfLoggerV215=function(){__p&&__p();this.$MSearchTypeaheadPerfLoggerV26={};this.$MSearchTypeaheadPerfLoggerV27=[];this.$MSearchTypeaheadPerfLoggerV23.query=null;this.$MSearchTypeaheadPerfLoggerV23.latencyData=[];this.$MSearchTypeaheadPerfLoggerV23.sessionID=null;this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime=null;this.$MSearchTypeaheadPerfLoggerV23.click=false;this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick=false;this.$MSearchTypeaheadPerfLoggerV23.isExactMatchKeywordClick=false;this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick=false;this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick=false};l.prototype.$MSearchTypeaheadPerfLoggerV218=function(){return this.$MSearchTypeaheadPerfLoggerV21.getValue()||""};l.prototype.$MSearchTypeaheadPerfLoggerV220=function(){return this.$MSearchTypeaheadPerfLoggerV23.sessionID!=null};l.prototype.$MSearchTypeaheadPerfLoggerV216=function(m,n){this.$MSearchTypeaheadPerfLoggerV215();this.$MSearchTypeaheadPerfLoggerV23.sessionID=m;this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime=Date.now();this.$MSearchTypeaheadPerfLoggerV23.query=n;this.$MSearchTypeaheadPerfLoggerV23.typeaheadType=this.$MSearchTypeaheadPerfLoggerV22};l.prototype.$MSearchTypeaheadPerfLoggerV219=function(m){if(this.$MSearchTypeaheadPerfLoggerV26[m]!=null)return this.$MSearchTypeaheadPerfLoggerV26[m];else return this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime};l.prototype.$MSearchTypeaheadPerfLoggerV222=function(m){var n=this.$MSearchTypeaheadPerfLoggerV27.filter(function(p){return p.id!="seeMore"}).map(function(p){return p.display}),o=m.filter(function(p){return p.id!="seeMore"}).map(function(p){return p.display});return n.length==o.length&&n.every(function(p,q){return p==o[q]})};l.prototype.$MSearchTypeaheadPerfLoggerV221=function(m){var n=this.$MSearchTypeaheadPerfLoggerV21;return m.filter(function(o){return!o.isInvalidated&&o!==n.loadingIndicator})};l.prototype.$MSearchTypeaheadPerfLoggerV217=function(){var m={query:this.$MSearchTypeaheadPerfLoggerV23.query,latencyData:this.$MSearchTypeaheadPerfLoggerV23.latencyData,typeaheadType:this.$MSearchTypeaheadPerfLoggerV22,sessionID:this.$MSearchTypeaheadPerfLoggerV23.sessionID,sessionStartTime:this.$MSearchTypeaheadPerfLoggerV23.sessionStartTime,click:this.$MSearchTypeaheadPerfLoggerV23.click,isBootstrapClick:this.$MSearchTypeaheadPerfLoggerV23.isBootstrapClick,isExactMatchKeywordClick:this.$MSearchTypeaheadPerfLoggerV23.isExactMatchKeywordClick,isNullStateClick:this.$MSearchTypeaheadPerfLoggerV23.isNullStateClick,isSeeMoreClick:this.$MSearchTypeaheadPerfLoggerV23.isSeeMoreClick};h.post(this.$MSearchTypeaheadPerfLoggerV24,m,{delay:this.$MSearchTypeaheadPerfLoggerV212,retry:true});i.invoke("typeahead-perf-logger-did-log",null,m)};f.exports=l}),null);
__d("MSearchTypeaheadPerfLoggerUtil",["MLegacyDataStore","MSearchTypeaheadPerfLoggerV2"],(function a(b,c,d,e,f,g,h,i){"use strict";var j={getNewMSearchTypeaheadPerfLogger:function k(l,m,n){return new i(l,m.type,n,h)}};f.exports=j}),null);
__d("MGraphSearchTypeaheadBucketizer",[],(function a(b,c,d,e,f,g){"use strict";__p&&__p();var h=20;function i(k){__p&&__p();if(k.isTrending&&k.isNullStateSuggestion)return"trending";else if(k.isRecentSearch)return"recent";else if(k.isPYMK)return"pymk";else if(k.isScoped)return k.isNullStateSuggestion?"group_popular":"group_search";else if(k.isSeeMore)return"see_more";else if(k.type==="keyword")return"suggested";else return"top_matches"}function j(k){k=k||{};this.maxResults=k.maxResults||h}j.prototype.bucketize=function(k,l){__p&&__p();var m={},n=[],o=Math.min(k.length,this.maxResults);for(var p=0;p<o;p++){var q=k[p],r=i(q);if(!m[r]){var s=[];m[r]=s;n.push({headerType:r,results:s})}m[r].push(q)}if(m.suggested!=null&&l!=null)m.suggested.splice(l-1,m.suggested.length-l);return n};f.exports=j}),null);
__d("MGraphSearchTypeaheadHeaders",["fbt"],(function a(b,c,d,e,f,g,h){"use strict";var i={pymk:h._("People you may know"),recent:h._("Recent searches"),suggested:h._("Searches"),top_matches:h._("Top matches"),trending:h._("Trending"),group_popular:h._("Popular in this group"),group_search:h._("Search this group"),suggested_global:h._("Search all of Facebook")},j={pymk:h._("PEOPLE YOU MAY KNOW"),recent:h._("RECENT SEARCHES"),suggested:h._("SEARCHES"),top_matches:h._("TOP MATCHES"),trending:h._("TRENDING"),group_popular:h._("POPULAR IN THIS GROUP"),group_search:h._("SEARCH THIS GROUP"),suggested_global:h._("SEARCH ALL OF FACEBOOK")};f.exports={Labels:i,CapitalizedLabels:j}}),null);
__d("MSearchSimplificationHeader",["DOM","MGraphSearchTypeaheadHeaders","cx","fbt","joinClasses"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=i.CapitalizedLabels;function n(p){var q=p.activityLogURI,r=h.create("a",{href:q,className:l("touchable","_z-v")},k._("Edit"));r.setAttribute("data-edit-recent-searches",true);return h.create("div",{className:"_z-w"},[h.create("div",{className:"_z-z"},m.recent),r])}function o(p){var q=p.type,r=p.query,s=p.searchMode,t=p.isFirst;if(q==="recent")return n(p);if(r===""||s==="group")return h.create("div",{className:"_z-w"},h.create("div",{className:"_z-z"},m[q]));else if(!t)return h.create("div",{className:"_z--"});return null}f.exports=o}),null);
__d("MSearchSimplificationNullstateResult",["DOM","HTML","Locale","MSearchKeywordsConst","cx"],(function a(b,c,d,e,f,g,h,i,j,k,l){"use strict";__p&&__p();var m=" \xb7 ";function n(q){var r=q.result.id;if(r==null||String(r).match(/^[0-9]+$/)==null)return null;var s=q.result.photo;if(s==null)return null;return h.create("img",{className:"_1e86",src:s})}function o(q){__p&&__p();var r=q.result,s=r.subtext,t=r.boldedSubtext,u=r.isVerified,v=r.showGrayCheck,w=q.result.display,x=void 0;if(u)x=h.create("i",{className:"_1e87"});var y=void 0;if(v)y=h.create("i",{className:"_1e88"});var z=[w];if(j.isRTL())z.push(new i("&#8206;"));return h.create("div",{className:"_1e89"},[h.create("div",{className:"_1e8a"},h.create("div",{className:"_1e8b"},z),[x,y]),h.create("div",{className:"_1e8d"},[t,t&&s?m:null,s])])}function p(q){var r=q.result,s=r.id,t=r.uriWithSession,u=r.type,v=r.isTrending,w=u===k.keywordType,x=void 0;if(v||w)x=h.create("i",{className:"_1e8e"+(v?" _1e8f":"")+(w?" _1e8g":"")});return h.create("a",{className:"touchable _1e8h",href:t,rel:s},[n(q),x,o(q)])}f.exports=p}),null);
__d("MSearchSimplificationSeeMoreRecentResultsButton",["DOM","cx","fbt"],(function a(b,c,d,e,f,g,h,i,j){"use strict";function k(){return h.create("a",{className:"_4x4z"},[j._("See more"),h.create("span",{className:"_4x4-"})])}f.exports=k}),null);
__d("mayHaveConnectedCharacters",[],(function a(b,c,d,e,f,g){"use strict";function h(i){return i.match(/[\u0900-\u097F\u0980-\u09FF\u0A00-\u0A7F\u0A80-\u0AFF\u0B00-\u0B7F\u0B80-\u0BFF\u0C00-\u0C7F\u0C80-\u0CFF\u0D00-\u0D7F\u0D80-\u0DFF\u0E00-\u0E7F\u0E80-\u0EFF\u0F00-\u0FFF\u1000-\u109F\u1700-\u171F\u1720-\u173F\u1740-\u175F\u1760-\u177F\u1780-\u17FF\u1900-\u194F\u1950-\u197F\u1980-\u19DF\u19E0-\u19FF\u1A00-\u1A1F\u1A20-\u1AAF\u1B00-\u1B7F\u1B80-\u1BBF\u1BC0-\u1BFF\u1C00-\u1C4F\u1CC0-\u1CCF\uA800-\uA82F\uA840-\uA87F\uA880-\uA8DF\uA8E0-\uA8FF\uA930-\uA95F\uA980-\uA9DF\uA9E0-\uA9FF\uAA00-\uAA5F\uAA60-\uAA7F\uAA80-\uAADF\uAAE0-\uAAFF\uABC0-\uABFF\u0600-\u06FF\u0750\u077F\u08A0\u08FF\uFB50\uFDFF\uFE70\uFEFF\u4e00-\u9faf\u0D80-\u0DFF\u0E80-\u0EFF]/)!=null}f.exports=h}),null);
__d("MSearchSimplificationTypedResult",["DOM","HTML","Locale","cx","fbt","gkx","mayHaveConnectedCharacters"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){"use strict";__p&&__p();function o(){return h.create("button",{className:"_niv"},[h.create("span",{className:"_nix"+(j.isRTL()?" _4uv-":"")})])}function p(r){__p&&__p();var s=r.result.isSeeMore,t=r.result.display;if(s)t=l._("See more results for \"{query}\"",[l.param("query",t)]);else{var u=r.query;u=u.toLowerCase();if(!n(t)&&t.indexOf(u)===0)t=[u,h.create("strong",{},t.slice(u.length,t.length))]}var v=[t];if(!s&&j.isRTL())v.push(new i("&#8206;"));return h.create("div",{className:"_io1"},v)}function q(r){var s=r.result,t=s.id,u=s.isSeeMore,v=s.uriWithSession,w=[p(r)];if(m("AT7lRNSvv5EvGMuc3qVyuEm6B5fx-wiQM2ULDCbypxprax0mO6oqX7RtrS3jr3DVy5zZveUFf1UNWCcFGWRnQWgb")&&!u)w.push(o());return h.create("a",{className:"touchable _io2"+(u?" _iop":""),href:v,rel:t},w)}f.exports=q}),null);
__d("MGraphSearchCompositeSource",["SearchMTouchGlobalOptions","TypeaheadCompositeSource"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j,k;j=babelHelpers.inherits(l,i);k=j&&j.prototype;l.prototype.mergeResults=function(m,n){"use strict";__p&&__p();var o=k.mergeResults.call(this,m,n);if(!o||!this.$MGraphSearchCompositeSource1||o.some(function(D){return D.type==="trending"})||o.some(function(D){return D.isRecentSearch}))return o;o.length=Math.min(o.length,this.$MGraphSearchCompositeSource1.maxResults);if(h.keywordsOnlyEnabled){var p=[],q={};for(var r=o,s=Array.isArray(r),t=0,r=s?r:r[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var u;if(s){if(t>=r.length)break;u=r[t++]}else{t=r.next();if(t.done)break;u=t.value}var v=u;if(!q[v.id]){q[v.id]=true;p.push(v)}}return p}if(this.$MGraphSearchCompositeSource1.enableLegacyStyleBucketization)return this.bucketResults(o);var w=false,x=o[0];if(x&&(x.bootstrapped||x.bootstrap||x.type==="user"&&x.cost<this.$MGraphSearchCompositeSource1.minCostForUserToSurfaceAtTop))w=true;var y=false;for(var z=0;z<this.$MGraphSearchCompositeSource1.maxPositionOfEntityToDivideKeywords;z++)if(o[z]&&o[z].type!=="keyword")y=true;var A=[],B=[],C=[],D=null;for(var E=0;E<o.length;E++){D=o[E];if(!(D.bootstrapped&&this.$MGraphSearchCompositeSource1.keepBootstrapped)&&D.type in this.$MGraphSearchCompositeSource1.filterOutTypes)continue;if(D.type==="keyword")if(!w&&(!y||B.length<this.$MGraphSearchCompositeSource1.maxKeywordAboveEntities))B.push(D);else C.push(D);else A.push(D)}if(this.$MGraphSearchCompositeSource1.overrideKWRankingBehavior){var F,G=B;G.push.apply(G,C);var H=G.slice(0,this.$MGraphSearchCompositeSource1.numKeywordsAboveEntities),I=G.slice(this.$MGraphSearchCompositeSource1.numKeywordsAboveEntities);o=H;(F=o).push.apply(F,A);if(this.$MGraphSearchCompositeSource1.hasKeywordsBelowEntities){var J;(J=o).push.apply(J,I)}}else{var K,L;o=B;(K=o).push.apply(K,A);(L=o).push.apply(L,C)}return o};l.prototype.bucketResults=function(m){"use strict";__p&&__p();if(!m.length)return m;var n,o,p=[],q={};for(var r=0,s=m.length;r<s;r++){n=m[r];o=this.getBucketType(n);if(!q[o]){p.push(o);q[o]=[n]}else q[o].push(n)}return p.reduce(function(m,t){return m.concat(q[t])},[])};l.prototype.getBucketType=function(m){"use strict";if(m.type==="keyword"||m.is_grammar)return"keyword";return"entity"};l.prototype.setConfig=function(m){"use strict";this.$MGraphSearchCompositeSource1=m};function l(){"use strict";j.apply(this,arguments)}f.exports=l}),null);
__d("MGraphSearchTypeaheadOnDemandSource",["MSearchKeywordsConst","MTypeaheadOnDemandSource","SearchMTouchGlobalOptions","Stratcom","TokenizeUtil","createArrayFromMixed","mSearchSimplificationResultTransformer"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o,p,q="graph-search-entry-point";o=babelHelpers.inherits(r,i);p=o&&o.prototype;function r(s,t){"use strict";__p&&__p();t=t||{};p.constructor.call(this,s,t);this.enableImmediateReturnOfCachedResults=true;this.setNormalizer(function(u){return u.toLowerCase()});this.setSanitizer(function(u){return u});this.queryCache={};this.groupID=null;this.isScoped=false;this.numResultsToFetch=t.numResultsToFetch;k.listen("setCurrentProfileID",q,function(event){if(event.getData().profileID!==this.groupID){this.groupID=event.getData().profileID;this.clearCache()}}.bind(this))}r.prototype.getMatchedResults=function(s){"use strict";__p&&__p();var t=s.toLowerCase();while(t.length>0&&!(t in this.queryCache))t=t.substr(0,t.length-1);if(!t)return[];var u=[];if(t===s){u=this.queryCache[s];return this.renderNodes(s,u)}for(var v=0;v<this.queryCache[t].length;v++){var w=this.queryCache[t][v];if(l.isQueryMatch(s,this._raw[w].display))u.push(w)}return this.renderNodes(s,u)};r.prototype.addToLookup=function(s,t){"use strict";this.addToQueryCache(s,t)};r.prototype.addResult=function(s,t){"use strict";var u=s.uid;if(!(u in this._raw)){s=(this.getTransformer()||this._defaultTransformer)(s);this._raw[u]=s}this._raw[u].idx=s.idx;this.addToQueryCache(u,t)};r.prototype.addToQueryCache=function(s,t){"use strict";if(!this.queryCache[t])this.queryCache[t]=[];if(this.queryCache[t].indexOf(s)===-1)this.queryCache[t].push(s)};r.prototype.setGroupID=function(s){"use strict";this.groupID=s};r.prototype.setIsScoped=function(s){"use strict";this.isScoped=s};r.prototype.setSelectedIntent=function(s){"use strict";this.selectedIntent=s};r.prototype.getAuxiliaryData=function(){"use strict";var s={};if(this.isScoped&&this.groupID!=null)s.group_id=this.groupID;return babelHelpers["extends"]({max_results:this.numResultsToFetch},s)};r.prototype.tokenize=function(s){"use strict";var t=p.tokenize.call(this,s);if(t[t.length-1]==="")t.pop();return t};r.prototype.ondata=function(s,t,u){"use strict";if(u.payload.results){if(t)t=t.toLowerCase();p.ondata.call(this,s,t,m(u.payload.results))}else{this.invoke("req_recv",0);this.invoke("complete")}};r.prototype.getTransformer=function(){"use strict";__p&&__p();if(j.keywordsOnlyEnabled)return n;return function(s){__p&&__p();if(s.type==="keyword"){var t={cost:s.cost,idx:s.idx,display:s.text,name:s.text,type:s.untranslated_type||s.type,id:s.uid,uri:s.path,logInfo:s.logInfo,subtext:s.subtext,is_grammar:s.grammar_type!=null,isScoped:s.is_scoped,boldedSubtext:s.boldedSubtext,keywordBoldedSubtext:s.keywordBoldedSubtext,keywordRenderType:s.keywordRenderType,keyword_type:s.keyword_type},u=h.keywordTypes;Object.keys(h.keywordTypes).map(function(v){var w="is"+v.charAt(0).toUpperCase()+v.slice(1);t[w]=s.keyword_type===u[v]});h.intentKeys.map(function(v){t.isSpecialIntent=t.isSpecialIntent||t[v]});return t}return{name:s.text,uri:s.path,id:s.uid,display:s.display||s.text,photo:s.photo,category:s.category,cost:s.cost,idx:s.idx,tokens:s.tokens,type:s.untranslated_type||s.type,verticalType:s.vertical_type,subtext:s.subtext,isVerified:s.is_verified,showGrayCheck:s.show_gray_check,logInfo:s.logInfo}}};r.prototype.clearCache=function(){"use strict";p.clearCache.call(this);this.queryCache={}};f.exports=r}),null);
__d("MRecentSearchesUpdater",["Stratcom","SubscriptionsHandler"],(function a(b,c,d,e,f,g,h,i){__p&&__p();var j="search-recent-queries";function k(l){"use strict";this.$MRecentSearchesUpdater1=new i();this.$MRecentSearchesUpdater1.addSubscriptions(l.listen("change",this.changeQuery.bind(this)),l.listen("select",this.addRecentSearchWithSelection.bind(this)),l.listen("show",this.changeResults.bind(this)),l.listen("query",this.addRecentSearchWithQuery.bind(this)),l.listen("refreshRecent",this.refreshRecent.bind(this)))}k.prototype.destroy=function(){"use strict";this.$MRecentSearchesUpdater1.release()};k.prototype.refreshRecent=function(){"use strict";h.invoke("refreshRecent",j,{})};k.prototype.changeQuery=function(l){"use strict";this.currentQuery=l};k.prototype.changeResults=function(l){"use strict";if(l.show)this.results=l.show.slice();else this.results=l.slice()};k.prototype.addRecentSearchWithQuery=function(){"use strict";h.invoke("addRecentQuery",j,{query:this.currentQuery})};k.prototype.addRecentSearchWithSelection=function(l){"use strict";var m=l&&(l.rel||l.getAttribute("rel"));if(!m){this.addRecentSearchWithQuery();return}for(var n=0;n<this.results.length;n++)if(this.results[n].id===m)h.invoke("addRecentSearch",j,{result:this.results[n]})};f.exports=k}),null);
__d("MSearchTypeaheadLogger",["MLegacyDataStore","DOM","MRequest","MTouchClick","Stratcom","SubscriptionsHandler","invariant","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p=1e3;function q(s){__p&&__p();var t=[];for(var u=s,v=Array.isArray(u),w=0,u=v?u:u[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var x;if(v){if(w>=u.length)break;x=u[w++]}else{w=u.next();if(w.done)break;x=w.value}var y=x,z=y.getAttribute("rel");if(z!=null){var A={id:z},B=y.getAttribute("type");if(B!=null)A.type=B;var C=y.getAttribute("renderType");if(C!=null)A.renderType=C;var D=i.find(y,"a","typeahead-result"),E=h.get(D),F=D.getAttribute("data-extra");if(F!=null)try{F=JSON.parse(F)}catch(G){F={}}A=babelHelpers["extends"]({},A,E,F);t.push(A)}}return t}function r(s,t){this.typeahead=s;this.uri=t;this.initialize();this.emptyQueryResults=[];this.addSubscriptions()}r.prototype.destroy=function(){clearTimeout(this.blurTimeout);this.subscriptions.release()};r.prototype.addSubscriptions=function(){__p&&__p();var s=k.hasTouchEvents()?"touchend":"click";if(this.subscriptions)this.subscriptions.release();this.subscriptions=new m();this.subscriptions.addSubscriptions(this.typeahead.listen("focus",function(){var t=this.typeahead.getValue();t!=null||n(0);this.startSession(t,{force:true})}.bind(this)),this.typeahead.listen("change",function(t){var u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!u.preventSessionStart)this.startSession(t);if(this.sessionInProgress())this.data.query=t}.bind(this)),this.typeahead.listen("keypress",function(t){this.keypressed+=1}.bind(this)),this.typeahead.listen("select",function(t){__p&&__p();var u=t&&(t.rel||t.getAttribute("rel"));if(!this.data.query)this.data.null_state=1;this.data.click_event=Date.now();if(u)this.data.selected_id=u;else this.data.selected_search=1;if(this.results&&this.results.length&&this.data.query&&this.data.query.length)l.invoke("m:search-typeahead:select",null,{node:t,results:this.results.slice(),query:this.data.query.slice()});this.logToServer()}.bind(this)),this.typeahead.listen("show",function(t){__p&&__p();var u=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(!u.preventSessionStart){var v=this.typeahead.getValue();v!=null||n(0);this.startSession(v)}if(this.sessionInProgress())if(t.show){this.results=q(t.show);if(!this.typeahead.getValue())this.emptyQueryResults=this.results}else{this.data.candidate_results=t.slice().filter(function(w){return!w.isInvalidated});if(!this.typeahead.getValue())this.emptyQueryResults=this.data.candidate_results}}.bind(this)),this.typeahead.listen("query",function(t,u){this.data.selected_search=1;this.data.selected_type=u;this.logToServer()}.bind(this)),l.listen(s,"search-activator",function(){this.startSession("",{force:true})}.bind(this)),l.listen(s,"graph-search-activator",function(){this.startSession("",{force:true})}.bind(this)),this.typeahead.listen("scroll",function(){this.data.scrolled=1}.bind(this)))};r.prototype.updateTypeahead=function(s){this.typeahead=s;this.addSubscriptions()};r.prototype.blur=function(s){this.blurInProgress=true;this.blurTimeout=o(function(){this.data.session_end_reason=s;if(!this.data.query)this.data.null_state=1;this.logToServer()}.bind(this),p)};r.prototype.startSession=function(s){var t=arguments.length<=1||arguments[1]===undefined?{}:arguments[1];if(this.sessionID==null&&(s||t.force)){this.data={};this.keypressed=0;this.sessionID=Math.random().toString();this.data.query=s;this.data.session_start=Date.now();l.invoke("m-typeahead-logger:new-session-id",null,{sessionID:this.sessionID,query:s})}};r.prototype.sessionInProgress=function(){if(this.sessionID!==null&&!this.blurInProgress)return true;return false};r.prototype.logToServer=function(){__p&&__p();clearTimeout(this.blurTimeout);if(this.sessionID!=null){this.data.sid=this.sessionID;this.data.count_keys_pressed=this.keypressed;this.data.typeahead_type=this.typeahead.getTypeaheadType&&this.typeahead.getTypeaheadType();this.data.candidate_results=this.data.candidate_results||[];if(this.data.candidate_results.length===0)this.data.candidate_results=this.results;this.data.null_state_candidate_results=this.emptyQueryResults;this.data.last_state=this.getLastState(this.data.query,this.data.candidate_results);var s=new j(this.uri);s.setMethod("POST").setData({stats:JSON.stringify(this.data)}).send()}this.initialize()};r.prototype.getLastState=function(s,t){var u="typed",v=s.length===0&&t.every(function(w){return w.isNullStateSuggestion});if(v)u="null_state";return u};r.prototype.initialize=function(){this.data={};this.sessionID=null;this.keypressed=0;this.results=[];this.blurInProgress=false};f.exports=r}),null);
__d("XLiveController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/sports/{?query}/",{date:{type:"Int"},ref:{type:"String"},source:{type:"String"},region_id:{type:"Int"},year:{type:"Int"},fref:{type:"String"},query:{type:"String"},name:{type:"String"},cursor:{type:"String"}})}),null);
__d("MTypeaheadNullstateSource",["MTypeaheadTouchSource","Stratcom","URI","XLiveController","setTimeoutAcrossTransitions"],(function a(b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n,o="graph-search-entry-point",p="search-recent-queries";m=babelHelpers.inherits(q,h);n=m&&m.prototype;function q(r,s){"use strict";__p&&__p();n.constructor.call(this,r,s);i.listen("setCurrentProfileID",o,function(event){if(event.getData().profileID!==this.profileID){this.profileID=event.getData().profileID;this.refresh()}}.bind(this));i.listen("addRecentSearch",p,function(event){var t=event.getData().result;if(t)this.addRecentResult(t)}.bind(this));i.listen("addRecentQuery",p,function(event){var t=event.getData().query;if(t){var u=this.makeRecentResultWithQuery(t);this.addRecentResult(u)}}.bind(this));i.listen("refreshRecent",p,function(){this.refresh()}.bind(this));i.listen("searchRefreshNullstate",null,function(){return this.refresh()}.bind(this));i.listen("m:search:refresh-nullstate-with-delay",null,function(){l(function(){this.refresh()}.bind(this),3e4)}.bind(this))}q.prototype.makeRecentResultWithQuery=function(r){"use strict";return{display:r,name:r,id:r,uri:"/search/top/?q="+r}};q.prototype.addRecentResult=function(r){"use strict";__p&&__p();if(r.isTrending)return;r.isRecentSearch=true;var s={},t=0;r.idx=t;s[r.id]=r;for(var u in this._raw)if(u!=r.id){t++;this._raw[u].idx=t;s[u]=this._raw[u]}this._raw=s};q.prototype.refresh=function(){"use strict";this._raw={};this.sendRequest()};q.prototype.getAuxiliaryData=function(){"use strict";return{profile_id:this.profileID?this.profileID:this.groupID?this.groupID:null,disable_single_state:this.singleStateDisabled===true,enable_scoped:this.scopedEnabled===true}};q.prototype.ondata=function(r){"use strict";n.ondata.call(this,r)};q.prototype.matchResults=function(r){"use strict";var s=[];if(r==="")s=Object.keys(this._raw);this.sortHits(r,s);var t=this.renderNodes(r,s);this.invoke("resultsready",t);this.invoke("complete")};q.prototype.setCurrentProfileID=function(r){"use strict";this.profileID=r};q.prototype.setForceDisableSingleState=function(r){"use strict";this.singleStateDisabled=r};q.prototype.setEnableScoped=function(r){"use strict";this.scopedEnabled=r};q.prototype.sortHits=function(r,s){"use strict";s.sort(this.sortingFunction.bind(this))};q.prototype.sortingFunction=function(r,s){"use strict";var t=this._raw[r],u=isNaN(t.idx)?Number.MAX_VALUE:t.idx,v=this._raw[s],w=isNaN(v.idx)?Number.MAX_VALUE:v.idx;return u-w};q.prototype.getTransformer=function(){"use strict";__p&&__p();return function(r){__p&&__p();if(r.keyword_type==="trending"){var s=new j("/topic/trending/"+r.id);if(r.isSport)s=k.getURIBuilder().setString("query",String(r.id)).setString("ref","m_search_null_state").getURI();return{id:r.name,display:r.name,name:r.name,uri:s.toString(),topicID:r.id,trendingQueryID:r.trendingQueryID,subtext:r.articleTitle,type:"trending",photo:r.articleImageURI,actionTime:0,isTrending:true,isNullStateSuggestion:true}}if(r.type==="keyword"||r.type==="grammar"){s=new j(r.path||r.uri);return{cost:r.cost,idx:r.idx,display:r.text,name:r.text,type:"keyword",id:r.uid,uri:s.toString(),actionTime:r.action_time,isPYMK:r.pymk,isRecentSearch:r.recent_search,subtext:r.subtext,logInfo:r.logInfo,isNullStateSuggestion:true,isScoped:r.is_scoped}}return{actionTime:r.action_time,name:r.text,uri:r.path||r.uri,id:r.uid||r.id,display:r.name||r.text,photo:r.photo,category:r.category,cost:r.cost,idx:r.idx,tokens:r.tokens,type:r.type[0].toUpperCase()+r.type.slice(1),verticalType:r.vertical_type,is_verified:r.is_verified,subtext:r.subtext,isPYMK:r.pymk,isRecentSearch:r.recent_search,logInfo:r.logInfo,isNullStateSuggestion:true,isScoped:r.is_scoped}}};f.exports=q}),null);
__d("XWarmUserRequestArgsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/search/browse/warm/requestargs/",{query:{type:"String"},csid:{type:"String"}})}),null);
__d("MSearchTypeaheadNeue",["BehaviorsMixin","CancelableEventListener","CSS","DOM","EventEmitter","immutable","MGraphSearchCompositeSource","MGraphSearchTypeaheadBucketizer","MGraphSearchTypeaheadOnDemandSource","MGraphSearchTypeaheadTouchSource","MHistory","MJewel","MJewels","MPageController","MRecentSearchesUpdater","MRequest","MSearchConst","MSearchSimplificationUtils","MSearchTrendingLogger","MSearchTypeaheadLogger","MSearchTypeaheadPerfLoggerUtil","MTouchClick","MTypeaheadNullstateSource","MViewport","Parent","SearchMTouchGlobalOptions","Stratcom","Style","SubscriptionsHandler","URI","XWarmUserRequestArgsController","csx","cx","fbt","ge","gkx","joinClasses","mixin","throttle"],(function aa(ba,ca,da,ea,a,fa,b,c,d,e,f,g,ga,ha,ia,ja,h,ka,i,la,ma,na,j,k,l,oa,pa,m,qa,ra,n,o,p,q,r,s,sa,ta,ua,t,va,u,wa,xa,v){"use strict";__p&&__p();var w,x,y=g.List,ya="/search/metrics.php",z="result",A=false,za=new RegExp("^/(search|graphsearch|topic/trending|groups/search)"),Aa={display:"See More",id:"see-more-inline",isNullStateSuggestion:false,isRecentSearch:true,isSeeMoreRecentResults:true,type:"see-more-inline"};w=babelHelpers.inherits(B,xa(b));x=w&&w.prototype;function B(C){__p&&__p();x.constructor.call(this);this.$MSearchTypeaheadNeue7={};this.$MSearchTypeaheadNeue50=function(event){var E=event.getTarget(),F=E.getAttribute("data-ft"),G=E.getAttribute("data-name");if(!F||!G)return;this.setState({searchMode:"group",groupID:F,groupName:G,isVisible:true,isOpen:true,results:y()},function(){this.$MSearchTypeaheadNeue21.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue48=function(){this.setState({isShowingAllRecentResults:true});this.$MSearchTypeaheadNeue55()}.bind(this);this.$MSearchTypeaheadNeue29=function(){var E=this.state.query;this.$MSearchTypeaheadNeue57("update",[E]);this.$MSearchTypeaheadNeue57("change",[E])}.bind(this);this.onInputChange=function(){this.setState({query:this.$MSearchTypeaheadNeue21.value.trimLeft()});this.$MSearchTypeaheadNeue72();this.$MSearchTypeaheadNeue9()}.bind(this);this.onInputBlur=function(){this.setState({isInputFocused:false})}.bind(this);this.onInputFocus=function(){__p&&__p();var E=this.$MSearchTypeaheadNeue21.value;this.setState({isInputFocused:true,query:E});h.pushSoftState(i.SEARCH);var F=new s(window.location),G=new s(this.props.activityLogURI);if(this.$MSearchTypeaheadNeue14||F.getPath()===G.getPath()){this.$MSearchTypeaheadNeue14=false;this.$MSearchTypeaheadNeue57("refreshRecent",[E])}if(this.$MSearchTypeaheadNeue12){var H=m.hasTouchEvents()?"touchend":"click";p.invoke(H,"graph-search-activator")}this.$MSearchTypeaheadNeue57("focus");this.$MSearchTypeaheadNeue57("change",[E]);if(!A){var I=new na(sa.getURIBuilder().getURI());I.send();A=true}}.bind(this);this.onClearButtonEvent=function(event){event.prevent();var E="";this.setState({query:E},function(){this.$MSearchTypeaheadNeue21.focus()}.bind(this));this.$MSearchTypeaheadNeue57("change",[E]);this.$MSearchTypeaheadNeue57("update",[E])}.bind(this);this.onScopeIndicatorClickEvent=function(event){event.prevent();this.setState({searchMode:"global"},function(){this.$MSearchTypeaheadNeue21.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue43=function(event){__p&&__p();var E=event.getTarget(),F=n.byTag(E,"a");if(F==null)return;var G=n.bySelector(F,"[data-edit-recent-searches]");if(G){this.$MSearchTypeaheadNeue59();return}event.prevent();var H=this.$MSearchTypeaheadNeue73(E);if(H==null)return;var I=this.$MSearchTypeaheadNeue74(H),J={isOpen:false,isVisible:H.type==="keyword",prefilledValue:I,query:I};this.setState(J);this.$MSearchTypeaheadNeue57("select",[F]);this.$MSearchTypeaheadNeue57("result-selected",[H]);this.$MSearchTypeaheadNeue75(new s(H.uriWithSession))}.bind(this);this.$MSearchTypeaheadNeue45=function(event){__p&&__p();event.prevent();var E=this.$MSearchTypeaheadNeue21.value,F="";if(E==="")return;F=this.$MSearchTypeaheadNeue54(E).addQueryData("ref","content_filter").addQueryData("tsid",this.$MSearchTypeaheadNeue13).addQueryData("source","typeahead");this.$MSearchTypeaheadNeue57("on-enter-pressed",[F.toString()]);this.$MSearchTypeaheadNeue75(new s(F));this.$MSearchTypeaheadNeue21.blur();this.setState({query:E,prefilledValue:E,isOpen:false,isVisible:E!==""});this.$MSearchTypeaheadNeue57("query",[this.state.results])}.bind(this);this.$MSearchTypeaheadNeue44=function(event){__p&&__p();var E=event.getTarget();if(u("AT7lRNSvv5EvGMuc3qVyuEm6B5fx-wiQM2ULDCbypxprax0mO6oqX7RtrS3jr3DVy5zZveUFf1UNWCcFGWRnQWgb")&&e.isType(E,["button"])){event.prevent();var F=this.$MSearchTypeaheadNeue73(E),G=this.$MSearchTypeaheadNeue74(F);if(G.length>0)G+=" ";this.setState({isOpen:true,isVisible:true,prefilledValue:G,query:G});this.$MSearchTypeaheadNeue29()}else this.$MSearchTypeaheadNeue21.blur()}.bind(this);this.$MSearchTypeaheadNeue40=function(){this.setState({isWaiting:true})}.bind(this);this.$MSearchTypeaheadNeue41=function(){this.setState({isWaiting:false},function(){this.$MSearchTypeaheadNeue3.release()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue36=function(){this.setState({isWaiting:true})}.bind(this);this.$MSearchTypeaheadNeue37=function(E){__p&&__p();if(this.state.isOpen)this.$MSearchTypeaheadNeue57("render_start");var F=y(E);F.forEach(function(J){J.uri=new s(J.uri).addQueryData("refid",j.refid)});var G=this.state,H=G.query,I=G.searchMode;if(H!==""&&I==="global")F=this.$MSearchTypeaheadNeue53(F);this.setState({results:y(F)});this.$MSearchTypeaheadNeue55()}.bind(this);this.$MSearchTypeaheadNeue38=function(){this.setState({isWaiting:false})}.bind(this);this.$MSearchTypeaheadNeue49=function(event){var E=event.getData().title||"";if(!this.state.isOpen)this.$MSearchTypeaheadNeue57("change",[E,{preventSessionStart:true}]);var F={prefilledValue:E};if(!this.state.isOpen)F=babelHelpers["extends"]({},F,{query:E,searchMode:this.$MSearchTypeaheadNeue27(),isVisible:E!==""});this.setState(F,function(){if(!this.state.isOpen)this.$MSearchTypeaheadNeue21.value=E}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue69=function(event){__p&&__p();var E=this.$MSearchTypeaheadNeue22;if(E==null)return;var F=e.scry(E,"input","search-typeahead-session-id")[0];if(!F){F=document.createElement("input");F.type="hidden";F.name="tsid";E.appendChild(F);p.addSigil(F,"search-typeahead-session-id")}var G=event.getData().sessionID;F.value=G;this.$MSearchTypeaheadNeue13=G}.bind(this);this.$MSearchTypeaheadNeue30=function(){var E=this.props.root.offsetHeight+this.props.root.offsetTop,F=ra.getHeight();q.set(document.getElementById("page"),"height",Math.max(E,F)+"px")}.bind(this);this.$MSearchTypeaheadNeue34=function(){var E=h.getPath(),F=h.getParam(h.SOFT_STATE_KEY),G=F==="search",H=new s(E).getPath(),I=H.match(za)!=null,J=G||I&&(F==null||G),K=J?this.state.prefilledValue:"";this.setState({query:K,isOpen:G,isVisible:J},function(){if(this.state.isOpen)this.$MSearchTypeaheadNeue21.focus()}.bind(this))}.bind(this);this.$MSearchTypeaheadNeue51=function(){p.invoke("log-m-search-session-end",null,{reason:"navigated_away"});this.setState({searchMode:"global"})}.bind(this);this.props=C;var D=this.props.prefilledValue||"";this.state={query:D,prefilledValue:D,results:y(),isShowingAllRecentResults:false,isWaiting:false,searchMode:this.$MSearchTypeaheadNeue27(),isInputFocused:false,groupID:this.$MSearchTypeaheadNeue28(),groupName:this.props.groupName};this.$MSearchTypeaheadNeue6=new f();this.$MSearchTypeaheadNeue2=new r();this.$MSearchTypeaheadNeue4=new ha({maxResults:this.props.typeaheadConfig.compositeSourceConfig.maxResults});this.$MSearchTypeaheadNeue5=null;this.$MSearchTypeaheadNeue7={};this.$MSearchTypeaheadNeue8={};this.$MSearchTypeaheadNeue9=v(this.$MSearchTypeaheadNeue29,200);this.$MSearchTypeaheadNeue10=v(this.$MSearchTypeaheadNeue30,500);this.$MSearchTypeaheadNeue31();this.$MSearchTypeaheadNeue32();this.$MSearchTypeaheadNeue33();this.$MSearchTypeaheadNeue34();this.initBehaviors(this.props.behaviors);p.invoke("m:graph-search:ready")}B.prototype.getTypeaheadType=function(){var C=this.props.typeaheadConfig.keywordsOnlyEnabled;return C?"m_simplification":"m_graph_search"};B.prototype.getValue=function(){return this.$MSearchTypeaheadNeue21.value};B.prototype.getSessionID=function(){return this.$MSearchTypeaheadNeue13};B.prototype.$MSearchTypeaheadNeue35=function(C){this.$MSearchTypeaheadNeue5=C;this.$MSearchTypeaheadNeue11=new r();this.$MSearchTypeaheadNeue11.addSubscriptions(C.listen("req_dispatch",this.$MSearchTypeaheadNeue36),C.listen("resultsready",this.$MSearchTypeaheadNeue37),C.listen("after_complete",this.$MSearchTypeaheadNeue38));C.bindToTypeahead(this)};B.prototype.$MSearchTypeaheadNeue39=function(C){this.$MSearchTypeaheadNeue16=C;this.$MSearchTypeaheadNeue3=new r();this.$MSearchTypeaheadNeue3.addSubscriptions(C.listen("waiting",this.$MSearchTypeaheadNeue40),C.listen("bootstrapped",this.$MSearchTypeaheadNeue41))};B.prototype.$MSearchTypeaheadNeue31=function(){var C=this.props.root;this.$MSearchTypeaheadNeue22=this.$MSearchTypeaheadNeue42();e.appendContent(C,this.$MSearchTypeaheadNeue22);this.$MSearchTypeaheadNeue26=this.props.scopeIndicator;e.appendContent(C,this.$MSearchTypeaheadNeue26);this.$MSearchTypeaheadNeue23=e.create("div",{className:"_5-lw"});e.appendContent(C,this.$MSearchTypeaheadNeue23)};B.prototype.$MSearchTypeaheadNeue32=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue23,"click",null,this.$MSearchTypeaheadNeue43),c.listen(this.$MSearchTypeaheadNeue23,"touchmove",null,this.$MSearchTypeaheadNeue44),c.listen(this.$MSearchTypeaheadNeue23,"touchstart",null,this.$MSearchTypeaheadNeue44),e.listen(this.$MSearchTypeaheadNeue21,"keyup",null,this.onInputChange),e.listen(this.$MSearchTypeaheadNeue21,"focus",null,this.onInputFocus),e.listen(this.$MSearchTypeaheadNeue21,"blur",null,this.onInputBlur),e.listen(this.$MSearchTypeaheadNeue24,"mousedown",null,this.onClearButtonEvent),c.listen(this.$MSearchTypeaheadNeue24,"touchstart",null,this.onClearButtonEvent),e.listen(this.$MSearchTypeaheadNeue22,"submit",null,this.$MSearchTypeaheadNeue45));if(this.$MSearchTypeaheadNeue25!=null)this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue25,"click",null,this.$MSearchTypeaheadNeue46));if(this.$MSearchTypeaheadNeue26!=null)this.$MSearchTypeaheadNeue2.addSubscriptions(e.listen(this.$MSearchTypeaheadNeue26,"click",null,this.onScopeIndicatorClickEvent))};B.prototype.$MSearchTypeaheadNeue47=function(C){e.listen(C,"click",null,this.$MSearchTypeaheadNeue48)};B.prototype.$MSearchTypeaheadNeue33=function(){this.$MSearchTypeaheadNeue2.addSubscriptions(p.listen("setSearchText","graph-search-entry-point",this.$MSearchTypeaheadNeue49),p.listen(m.hasTouchEvents()?"touchend":"click","m-groups-scoped-search-button",this.$MSearchTypeaheadNeue50),p.listen("m:history:change",null,this.$MSearchTypeaheadNeue34),p.listen("m:chrome:tab:hide",i.SEARCH,this.$MSearchTypeaheadNeue51))};B.prototype.$MSearchTypeaheadNeue42=function(){this.$MSearchTypeaheadNeue21=e.create("input",{id:"main-search-input","data-sigil":"search-small-box",className:"_5-lx",type:"search",name:"query",placeholder:this.$MSearchTypeaheadNeue52(),autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",value:this.state.query});this.$MSearchTypeaheadNeue24=e.create("a",{href:"#",className:"_5-ly",role:"button"},t._("Clear"));if(!this.props.typeaheadConfig.keywordsOnlyEnabled)this.$MSearchTypeaheadNeue25=null;else this.$MSearchTypeaheadNeue25=e.create("a",{href:"#",className:wa("_3k_n")},t._("Cancel"));return e.create("form",{className:"_13e_",action:"/search/top/"},[e.create("div",{className:"_13fn"},[this.$MSearchTypeaheadNeue21,e.create("label",{htmlFor:"main-search-input",className:"_13fo"},t._("Search")),this.$MSearchTypeaheadNeue24]),this.$MSearchTypeaheadNeue25])};B.prototype.$MSearchTypeaheadNeue53=function(C){var D=this.state.query,E={id:k.getKeywordSemantic(D),type:"keyword",isSeeMore:true,display:D,uri:this.$MSearchTypeaheadNeue54(D).toString(),keyword_type:"escape"};C=C.push(E);return C};B.prototype.$MSearchTypeaheadNeue55=function(){__p&&__p();var C=this.props.typeaheadConfig,D=C.hasRecentSearchesSeeMoreButton,E=C.keywordsOnlyEnabled,F=C.keywordBucketSize,G=C.defaultNumTopResultsToShow,H=C.initialNumRecentResultsToShow,I=this.state.results,J=this.state,K=J.query,L=J.searchMode,M=this.$MSearchTypeaheadNeue4.bucketize(I.toArray(),E?F:G),N=[],O=[],P=-1,Q=M.find(function(W){return W.headerType==="recent"}),R=[],S=Q?Q.results.length:0,T=0;if(Q&&S>H&&!this.state.isShowingAllRecentResults)Q.results.splice(H);if(D&&Q&&S>H&&!this.state.isShowingAllRecentResults)Q.results.push(Aa);var U=[];M.forEach(function(W,X){__p&&__p();var Y=W.headerType,I=W.results;if(Y==="suggested"&&"group_search"in M)Y="suggested_global";if(K.length===0||X<M.length-1){var Z=this.props.renderers.Header({activityLogURI:this.props.activityLogURI,isFirst:X===0,query:K,searchMode:L,type:Y});if(Z!=null)R.push(Z)}var Ba=I.map(function($,X){U.push($);if(this.state.isVisible&&$.isTrending&&$.isNullStateSuggestion){N[T]=$.topicID;O[T]=T+1;P=$.trendingQueryID}return this.$MSearchTypeaheadNeue56($)}.bind(this));R.push.apply(R,Ba)}.bind(this));this.$MSearchTypeaheadNeue57("show",[U,{preventSessionStart:true}]);if(N.length>0&&!this.$MSearchTypeaheadNeue1){var V;this.$MSearchTypeaheadNeue1=new r();(V=this.$MSearchTypeaheadNeue1).addSubscriptions.apply(V,l.registerTrendingTopicListeners(N,j.msite_news_null_state,O,P));l.logTrendingTopicImpressions(N,j.msite_news_null_state,O,P)}else if(this.$MSearchTypeaheadNeue1!=null){this.$MSearchTypeaheadNeue1.release();this.$MSearchTypeaheadNeue1=null}e.empty(this.$MSearchTypeaheadNeue23);e.appendContent(this.$MSearchTypeaheadNeue23,R);if(this.state.isOpen){this.$MSearchTypeaheadNeue10();this.$MSearchTypeaheadNeue57("rendered")}};B.prototype.$MSearchTypeaheadNeue56=function(C){__p&&__p();var D=this.state.results.indexOf(C);if(C.uri)if(this.$MSearchTypeaheadNeue17&&C.type=="page")C.uriWithSession=new s("/search/").addQueryData({query:C.name,tsid:this.$MSearchTypeaheadNeue13,source:z}).toString();else C.uriWithSession=new s(C.uri).addQueryData({tsid:this.$MSearchTypeaheadNeue13,source:z}).toString();if(C.isTrending)C.uriWithSession=new s(C.uriWithSession).addQueryData("position",D+1).toString();var E=this.$MSearchTypeaheadNeue58(C),F=E({query:this.state.query,result:C});if(C.isSeeMoreRecentResults)this.$MSearchTypeaheadNeue47(F);return F};B.prototype.$MSearchTypeaheadNeue58=function(C){if(C.isNullStateSuggestion)return this.props.renderers.NullstateResult;if(C.isSeeMoreRecentResults)return this.props.renderers.SeeMoreRecentResultsButton;return this.props.renderers.TypedResult};B.prototype.$MSearchTypeaheadNeue59=function(){this.$MSearchTypeaheadNeue14=true};B.prototype.$MSearchTypeaheadNeue60=function(){return this.props.typeaheadConfig};B.prototype.$MSearchTypeaheadNeue61=function(){return this.state.searchMode};B.prototype.$MSearchTypeaheadNeue62=function(C){__p&&__p();var D=o.queryThrottleTime,E=o.enableQueryThrottle,F=o.enableEagerSendRequest,G=o.queryWaitTime,H=o.redirectPages;if(this.$MSearchTypeaheadNeue5!=null&&!C)return;var I=this.$MSearchTypeaheadNeue5;if(I!=null){this.$MSearchTypeaheadNeue11.release();I.unbindFromTypeahead()}var J=this.$MSearchTypeaheadNeue61(),K=void 0;if(J!=null)K=this.$MSearchTypeaheadNeue7[J];if(K){this.$MSearchTypeaheadNeue35(K);this.$MSearchTypeaheadNeue57("refresh");return}var L=this.$MSearchTypeaheadNeue60().sources,M=[],N=void 0;if(L.bootstrapped&&this.state.searchMode!=="group"){N=this.$MSearchTypeaheadNeue63(L.bootstrapped.src,L.bootstrapped.source_key);N.setConvertEntityToKeyword(o.keywordsOnlyEnabled);N.setShouldOnlyPrefixMatch(o.prefixMatchEntityBootstrap);if(L.bootstrapped.max_results!=null)N.setMaximumResultCount(L.bootstrapped.max_results);N.setShowSecondaryAction(true);N.clientRendered=true;this.$MSearchTypeaheadNeue15=N;M.push(N)}if(L.nullstate){var O=this.$MSearchTypeaheadNeue64(L.nullstate.src);O.setMaximumResultCount(L.nullstate.max_results);O.setShowSecondaryAction(true);O.clientRendered=true;O.setCurrentProfileID(this.props.currentProfileID);if(this.state.searchMode==="group"){O.setEnableScoped(true);O.setCurrentProfileID(this.state.groupID)}M.push(O);if(u("AT6rZEzUcyBWoOb4V2g-69P-uTYCBQOV4MAneTkLEODU5AmB1XQLNE7GDpxllICAXZa-FMvUi03ToWCvMn-ywTDx"))this.$MSearchTypeaheadNeue39(O)}var P=L.online;if(P){N=this.$MSearchTypeaheadNeue65(P.src);N.setMaximumResultCount(P.max_results);N.setEnableImmediateReturnOfCachedResults(P.enable_caching);N.setMaxResults(this.props.typeaheadConfig.numResultsToFetch);if(E)N.setThrottleSendRequest(D);N.setEnableEagerSendRequest(F);N.setQueryDelay(G);this.$MSearchTypeaheadNeue17=H;N.setShowSecondaryAction(true);N.clientRendered=true;M.push(N)}I=this.$MSearchTypeaheadNeue66(M);I.clientRendered=true;I.mergeKey="id";this.$MSearchTypeaheadNeue35(I);this.$MSearchTypeaheadNeue57("start");this.$MSearchTypeaheadNeue7[J]=this.$MSearchTypeaheadNeue5};B.prototype.$MSearchTypeaheadNeue66=function(C){var D=new ga(C);D.setConfig(this.props.typeaheadConfig.compositeSourceConfig);return D};B.prototype.$MSearchTypeaheadNeue65=function(C){var D=this.props.typeaheadConfig,E=D.disableLongerQueryCacheHit,F=D.numResultsToFetch;C=new ia(C,{disableLongerQueryCacheHit:E,numResultsToFetch:F});if(this.state.searchMode==="group"){C.setIsScoped(true);C.setGroupID(this.state.groupID)}return C};B.prototype.$MSearchTypeaheadNeue63=function(C,D){return new ja(C,D)};B.prototype.$MSearchTypeaheadNeue64=function(C){return new qa(C)};B.prototype.$MSearchTypeaheadNeue67=function(){if(!this.props.typeaheadConfig.mSideNavMarauderLogger||this.$MSearchTypeaheadNeue18)return;this.$MSearchTypeaheadNeue2.addSubscriptions(this.props.typeaheadConfig.mSideNavMarauderLogger.setupTypeaheadListener(this));this.$MSearchTypeaheadNeue18=true};B.prototype.$MSearchTypeaheadNeue68=function(){if(this.$MSearchTypeaheadNeue19)return;var C=new oa(this,ya);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function D(){return C.destroy()}});this.$MSearchTypeaheadNeue2.addSubscriptions(p.listen("m-typeahead-logger:new-session-id",null,this.$MSearchTypeaheadNeue69));this.$MSearchTypeaheadNeue19=true;this.$MSearchTypeaheadNeue2.addSubscriptions(p.listen("log-m-search-session-end",null,function(D){C.blur(D.getData().reason)}))};B.prototype.$MSearchTypeaheadNeue70=function(){var C,D=this;if(this.props.typeaheadConfig.hasRecentSearches)(function(){var E=new ma(D);D.$MSearchTypeaheadNeue2.addSubscriptions({remove:function F(){return E.destroy()}})})()};B.prototype.$MSearchTypeaheadNeue71=function(){var C=this.$MSearchTypeaheadNeue61();if(C!=null&&(!this.props.typeaheadConfig.typeaheadScubaInfo||this.$MSearchTypeaheadNeue8[C]))return;var D=pa.getNewMSearchTypeaheadPerfLogger,E=D(this,this.props.typeaheadConfig.typeaheadScubaInfo,this.props.typeaheadConfig.sources.online.enable_caching||false);this.$MSearchTypeaheadNeue2.addSubscriptions({remove:function F(){return E.destroy()}});this.$MSearchTypeaheadNeue20=E;this.$MSearchTypeaheadNeue8[C]=true};B.prototype.$MSearchTypeaheadNeue72=function(){var C=this.$MSearchTypeaheadNeue21.value;this.$MSearchTypeaheadNeue57("keypress",[C])};B.prototype.listen=function(C,D){var E=this.$MSearchTypeaheadNeue6.addListener(C,D);return{type:C,callback:D,remove:function F(){E.remove()}}};B.prototype.$MSearchTypeaheadNeue57=function(C){var D,E=arguments.length<=1||arguments[1]===undefined?[]:arguments[1];(D=this.$MSearchTypeaheadNeue6).emit.apply(D,[C].concat(E))};B.prototype.$MSearchTypeaheadNeue46=function(event){event.prevent();h.popSoftState(i.SEARCH)};B.prototype.$MSearchTypeaheadNeue54=function(C){C=C.trim();var D=this.state.groupID;if(D&&this.state.searchMode==="group")return k.getGroupSearchURI(D,C);return k.getKeywordURI(C)};B.prototype.$MSearchTypeaheadNeue28=function(){var C=new s(window.location);return C.getQueryData().groupID};B.prototype.$MSearchTypeaheadNeue74=function(C){return C!=null&&C.type==="keyword"?C.display:""};B.prototype.$MSearchTypeaheadNeue73=function(C){var D=n.byTag(C,"a"),E=null;if(D!=null)E=this.state.results.filter(function(E){return String(E.id)===String(D.getAttribute("rel"))}).first();return E};B.prototype.$MSearchTypeaheadNeue76=function(C){if(C.getQueryData().groupID)return"group";return null};B.prototype.$MSearchTypeaheadNeue27=function(){var C=new s(window.location),D=this.$MSearchTypeaheadNeue76(C);if(D!=null)return D;return"global"};B.prototype.$MSearchTypeaheadNeue52=function(){if(this.state.searchMode==="group"&&this.$MSearchTypeaheadNeue26===null)return t._("Search in {groupName}",[t.param("groupName",this.state.groupName)]);else return t._("Search")};B.prototype.$MSearchTypeaheadNeue75=function(C){la.load(C)};B.prototype.setState=function(C,D){__p&&__p();var E=babelHelpers["extends"]({},this.state);this.state=babelHelpers["extends"]({},this.state,C);if(this.state.query!==E.query&&this.$MSearchTypeaheadNeue21.value!==this.state.query)this.$MSearchTypeaheadNeue21.value=this.state.query;if(!this.$MSearchTypeaheadNeue12&&!E.isVisible&&this.state.isVisible){this.$MSearchTypeaheadNeue62();this.$MSearchTypeaheadNeue67();this.$MSearchTypeaheadNeue68();this.$MSearchTypeaheadNeue71();this.$MSearchTypeaheadNeue70();var F=m.hasTouchEvents()?"touchend":"click";p.invoke(F,"graph-search-activator");this.$MSearchTypeaheadNeue57("change",[this.$MSearchTypeaheadNeue21.value]);this.$MSearchTypeaheadNeue12=true}else if(this.state.searchMode!==E.searchMode){this.$MSearchTypeaheadNeue62(true);this.$MSearchTypeaheadNeue71();this.$MSearchTypeaheadNeue29()}if(this.state.searchMode!==E.searchMode)this.$MSearchTypeaheadNeue21.setAttribute("placeholder",String(this.$MSearchTypeaheadNeue52()));if(this.$MSearchTypeaheadNeue26!=null&&this.state.isOpen)if(this.state.searchMode!=="group")d.hide(this.$MSearchTypeaheadNeue26);else{if(this.state.groupName!==E.groupName){var G=e.find(this.$MSearchTypeaheadNeue26,"span"),H=e.create("span",this.state.groupName);e.replace(G,H)}d.show(this.$MSearchTypeaheadNeue26)}if(this.state.isOpen!==E.isOpen||this.state.isVisible!==E.isVisible){var I=va(ka.JEWEL_NAV_NODE_ID);if(I!=null){var J=e.find(I,"*","search");if(J)d.conditionClass(J,"isActive",!!this.state.isVisible)}}var K=this.props.root;if(this.state.isOpen!==E.isOpen){d.conditionClass(K,"_h3o",!!this.state.isOpen);d.conditionClass(K,"_13gr",!this.state.isOpen)}if(this.state.isVisible!==E.isVisible){d.conditionClass(K,"_1vty",!!this.state.isVisible);d.conditionClass(K,"_1vtz",!this.state.isVisible)}if(!this.state.isOpen&&E.isOpen){this.$MSearchTypeaheadNeue21.blur();q.set(document.getElementById("page"),"height",null)}if(this.state.isWaiting&&!E.isWaiting)d.addClass(this.props.root,"_13gv");else if(!this.state.isWaiting&&E.isWaiting)d.removeClass(this.props.root,"_13gv");if(this.state.query&&this.state.isInputFocused)e.show(this.$MSearchTypeaheadNeue24);else e.hide(this.$MSearchTypeaheadNeue24);if(D!=null)D()};B.prototype.initBehaviors=function(C){C.forEach(function(D){this.enableBehavior(D)}.bind(this))};B.prototype.getRoot=function(){return this.props.root};B.init=function(C){return new B(C)};a.exports=B}),null);