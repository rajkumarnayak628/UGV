if (self.CavalryLogger) { CavalryLogger.start_js(["\/tWH+"]); }

__d("MActorListDispatcher",["ReactDispatcher_DEPRECATED"],(function a(b,c,d,e,f,g,h){f.exports=new h()}),null);
__d("MActorListPayloadTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_ACTOR_LIST:"composer_actor_list",REQUEST_COMPOSER_ACTOR_LIST:"request_composer_actor_list",REQUEST_UFI_ACTOR_LIST:"request_ufi_actor_list",UFI_ACTOR_LIST:"ufi_actor_list"})}),null);
__d("XActorListController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/actor_list/",{actor_list_id:{type:"Int",required:true},payload_type:{type:"Enum",required:true,enumType:1}})}),null);
__d("MActorListStore",["EventEmitter","MActorListDispatcher","MActorListPayloadTypes","MRequest","XActorListController"],(function a(b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m,n,o={},p={};m=babelHelpers.inherits(q,h);n=m&&m.prototype;function q(){"use strict";__p&&__p();n.constructor.call(this);this.dispatchToken=i.register(function(r){switch(r.type){case j.REQUEST_COMPOSER_ACTOR_LIST:case j.REQUEST_UFI_ACTOR_LIST:this.$MActorListStore1(r.data.id,r.type);break;case j.COMPOSER_ACTOR_LIST:case j.UFI_ACTOR_LIST:Object.assign(o,r.data.actors);p[r.data.id]=Object.keys(r.data.actors);this.emit("change");break}}.bind(this))}q.prototype.$MActorListStore1=function(r,s){"use strict";var t=l.getURIBuilder().setInt("actor_list_id",r).setEnum("payload_type",s).getURI();new k(t).send()};q.prototype.getActorData=function(r){"use strict";var s=o[r];return s?s:null};q.prototype.getActorList=function(r){"use strict";var s=p[r];return s?s.slice():null};f.exports=new q()}),null);
__d("MActorSelectorFlyout.react",["MFlyout","MLayerDestroyOnHide","MLayerHideOnBlur","ReactDOM","ReactLayer"],(function a(b,c,d,e,f,g,h,i,j,k,l){__p&&__p();var m=l.createClass({createLayer:function n(o){var p=this.props,q=p.shown,r=p.className,s=p.contextRef,t=p.isNux,u=babelHelpers.objectWithoutProperties(p,["shown","className","contextRef","isNux"]),v=r?r.split(" "):[];v.push("accelerate");var w=t?[i]:[i,j],x=new h(babelHelpers["extends"]({},u,{addedBehaviors:w,classNames:v,context:k.findDOMNode(s()),margin:"none",nubalign:"center",offsetY:0,width:"100%"}),o);x.conditionShow(q);return x},receiveProps:function n(o,p){this.updateBehaviors(p.behaviors,o.behaviors);if(this.layer)this.layer.conditionShow(o.shown)}});f.exports=m}),null);
__d("MActorSelector.react",["CurrentUser","Image.react","Layout.react","MActorListDispatcher","MActorListStore","MActorSelectorFlyout.react","MXUISpinner.react","React","ReactLayeredComponentMixin_DEPRECATED","ShimButton.react","Stratcom","SubscriptionsHandler","cx","fbglyph","fbt","invariant","ix"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x){__p&&__p();var y=j.Column,z=j.FillColumn,A=o.PropTypes,B=20,C=32,D=o.createClass({displayName:"MActorSelector",mixins:[p],propTypes:{actorListID:A.string.isRequired,actorListRequestPayloadType:A.string.isRequired,coverEnabled:A.bool.isRequired,flyoutTitle:A.node,nuxBody:A.node,onChange:A.func.isRequired,onCompleteNux:A.func,selectedActorID:A.string.isRequired,selectedActorProfilePicURI:A.string.isRequired,showLoadingIndicator:A.bool.isRequired,showNux:A.bool.isRequired},getInitialState:function E(){var F=l.getActorList(this.props.actorListID);return{actorListLoaded:F!=null,hasBeenClicked:false,showFlyout:false}},render:function E(){__p&&__p();var F=null,G=null;if(this._isCovered())G=x("95410");else{F=o.createElement(i,{className:"_jvo _3-99",src:x("142926")});G=this.props.selectedActorProfilePicURI}var H=null;if(this.props.showLoadingIndicator)H=o.createElement(n,{className:"_1-gi"});return o.createElement("div",{className:"_2g0e","data-sigil":"touchable",onClick:function(){if(this._ignoreNextClick){this._ignoreNextClick=false;return}if(this.props.showNux)this.props.onCompleteNux&&this.props.onCompleteNux();this.setState({hasBeenClicked:true,showFlyout:!this.state.showFlyout})}.bind(this),onMouseDown:function(){this._ignoreNextClick=false}.bind(this),onTouchStart:function(){this._ignoreNextClick=false}.bind(this),role:"presentation"},H,o.createElement(i,{className:"_1e_c",height:B,ref:"profilePic",src:G,width:B}),F)},renderLayers:function E(){__p&&__p();if(!this.state.showFlyout){if(this.props.showNux)return o.createElement(m,{isNux:true,contextRef:function(){return this.refs.profilePic}.bind(this),position:"above",shown:this.props.showNux},o.createElement(q,{className:"_3nv2","data-sigil":"touchable",onClick:function(){this.props.onCompleteNux&&this.props.onCompleteNux()}.bind(this)},o.createElement(i,{src:x("143543")})),o.createElement("div",{className:"_2ph_"},this.props.nuxBody,o.createElement("div",{className:"_2pie"},o.createElement("a",{href:this.props.settingsURI},v._("Post attribution settings")))));return null}var F=null;if(this.state.actorListLoaded){var G=l.getActorList(this.props.actorListID);Array.isArray(G)||w(0);var H=[];G.map(function(J){var K=l.getActorData(J);K||w(0);var L=null;if(J===this.props.selectedActorID)L=o.createElement(y,null,o.createElement("div",{className:"_2pi3"},o.createElement(i,{src:x("138598")})));H.push(o.createElement("li",{className:"_ru0","data-sigil":"touchable",key:J,onClick:function(){if(J!==this.props.selectedActorID)this.props.onChange(J)}.bind(this)},o.createElement(j,null,o.createElement(y,null,o.createElement(i,{className:"_1e_c",height:C,src:K.profilePicURI,width:C})),o.createElement(z,null,o.createElement("div",{className:"_3-9a _52jh"},K.name)),L)))}.bind(this));var I=null;if(this.props.flyoutTitle)I=o.createElement("li",{className:"_ru0 _52j9",key:"title"},this.props.flyoutTitle);F=o.createElement("ul",null,I,H)}else F=o.createElement("div",{className:"_ru1"},o.createElement(n,{size:"large"}));return o.createElement(m,{contextRef:function(){return this.refs.profilePic}.bind(this),key:"mActorSelectorFlyout_"+this.props.actorListID+"_"+(this.state.actorListLoaded?this.props.selectedActorID:"loading"),onToggle:function(J){if(!J){this._ignoreNextClick=true;this.setState({showFlyout:J})}}.bind(this),position:"below",shown:true},F)},_subscriptionsHandler:null,_ignoreNextClick:false,componentDidMount:function E(){this._subscriptionsHandler=new s();this._subscriptionsHandler.addSubscriptions(l.addListener("change",function(){var F=l.getActorList(this.props.actorListID);if(F&&!this.state.actorListLoaded)this.setState({actorListLoaded:true})}.bind(this)),r.listen("MActorSelector-close",null,function(){this.setState({showFlyout:false})}.bind(this)))},componentDidUpdate:function E(F){if(this.state.showFlyout){var G=l.getActorList(this.props.actorListID);if(G===null)k.dispatch({data:{id:this.props.actorListID},type:this.props.actorListRequestPayloadType})}if(this.props.selectedActorProfilePicURI!==F.selectedActorProfilePicURI)this.setState({showFlyout:false})},componentWillUnmount:function E(){if(this._subscriptionsHandler){this._subscriptionsHandler.release();this._subscriptionsHandler=null}},_isCovered:function E(){return this.props.coverEnabled&&this.props.selectedActorID===h.getID()&&!this.state.hasBeenClicked}});f.exports=D}),null);
__d("ActorSelectorNuxTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER:"composer_seen_count",COMPOSER_COVERED:"composer_covered_seen_count",M_COMPOSER:"m_composer_seen_count",M_UFI:"m_ufi_seen_count",UFI:"ufi_seen_count",UFI_TIMELINE:"ufi_timeline_seen_count",UFI_TIMELINE_COVERED:"ufi_timeline_covered_seen_count"})}),null);
__d("MActorSelectorNuxPayloadTypes",[],(function a(b,c,d,e,f,g){f.exports=Object.freeze({COMPOSER_NUX_STATUS:"composer_nux_status",COMPOSER_NUX_SEEN:"composer_nux_seen",REQUEST_COMPOSER_NUX_STATUS:"request_composer_nux_status",REQUEST_UFI_NUX_STATUS:"request_ufi_nux_status",UFI_NUX_SEEN:"ufi_nux_seen",UFI_NUX_STATUS:"ufi_nux_status"})}),null);
__d("XActorSelectorNuxSeenWriteController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/actor_selector/nux/mark_seen/",{nux_type:{type:"Enum",required:true,enumType:1}})}),null);
__d("XActorSelectorNuxStatusController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/actor_selector/nux/status/",{actor_selector_id:{type:"String",required:true},payload_type:{type:"Enum",required:true,enumType:1}})}),null);
__d("MActorSelectorNuxStore",["ActorSelectorNuxTypes","EventEmitter","MActorSelectorNuxDispatcher","MActorSelectorNuxPayloadTypes","MRequest","XActorSelectorNuxStatusController","XActorSelectorNuxSeenWriteController","invariant"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p,q,r={},s={},t=null,u=false,v=false;p=babelHelpers.inherits(w,i);q=p&&p.prototype;function w(){"use strict";__p&&__p();q.constructor.call(this);this.dispatchToken=j.register(function(x){__p&&__p();switch(x.type){case k.COMPOSER_NUX_SEEN:this.$MActorSelectorNuxStore1(x.type);u=true;this.emit("change");break;case k.UFI_NUX_SEEN:this.$MActorSelectorNuxStore1(x.type);v=true;this.emit("change");break;case k.COMPOSER_NUX_STATUS:r[x.data.actorSelectorID]=x.data.isEnabled;this.emit("change");break;case k.UFI_NUX_STATUS:s[x.data.actorSelectorID]=x.data.isEnabled;this.emit("change");break;case k.REQUEST_COMPOSER_NUX_STATUS:this.$MActorSelectorNuxStore2(x.type,x.data.actorSelectorID);break;case k.REQUEST_UFI_NUX_STATUS:if(t===null)t=x.data.actorSelectorID;this.$MActorSelectorNuxStore2(x.type,x.data.actorSelectorID);break}}.bind(this))}w.prototype.canShowComposerNux=function(x){"use strict";if(u)return false;return r[x]||false};w.prototype.canShowUFINux=function(x){"use strict";if(v)return false;if(x!==t)return false;return s[x]||false};w.prototype.getUFIActorSelectorIDToShowNux=function(){"use strict";return t};w.prototype.$MActorSelectorNuxStore1=function(x){"use strict";__p&&__p();var y=null;switch(x){case k.COMPOSER_NUX_SEEN:y=h.M_COMPOSER;break;case k.UFI_NUX_SEEN:y=h.M_UFI;break;default:o(0)}var z=n.getURIBuilder().setEnum("nux_type",y).getURI();new l(z).send()};w.prototype.$MActorSelectorNuxStore2=function(x,y){"use strict";var z=m.getURIBuilder().setString("actor_selector_id",y).setEnum("payload_type",x).getURI();new l(z).send()};f.exports=new w()}),null);
__d("XFeedUFICommentHistoryController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/ufi/{comment_token}/history/",{comment_token:{type:"String",required:true},replace_id:{type:"String",required:true}})}),null);
__d("XFeedUFICommentsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/ufi/",{fs:{type:"Int"},feedback_target:{type:"String",required:true},focus_composer:{type:"Bool",defaultValue:false},replace_id:{type:"String",required:true},share_id:{type:"String"},link_data:{type:"String"},action_source:{type:"Int"},comment_id:{type:"Int"},reply_comment_id:{type:"Int"}})}),null);
__d("XFeedUFILikesController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/ufi/likes/",{feedback_target:{type:"String",required:true},replace_id:{type:"String",required:true},link_data:{type:"String"}})}),null);
__d("XFeedUFIReactionsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/feed/ufi/reactions/",{feedback_target:{type:"String",required:true},replace_id:{type:"String",required:true},link_data:{type:"String"}})}),null);
__d("MFeedUFI",["ActorURI","BanzaiLogger","CSS","DOM","MJSEnvironment","MLegacyDataStore","MParent","MRequest","MViewport","Stratcom","Vector","XFeedUFICommentHistoryController","XFeedUFICommentsController","XFeedUFILikesController","XFeedUFIReactionsController","$","cx","ge","getActiveElement","setTimeoutAcrossTransitions"],(function aa(ba,ca,da,ea,fa,a,ga,ha,b,c,ia,d,e,f,g,h,ja,ka,la,ma,na,oa,pa,i,qa,j){__p&&__p();var k="feed-ufi",ra="replies-see-more",l="m-inline-reply-composer",sa="m-ufi-no-comments",ta="m-ufi-sticker-suggestions",m={COMMENTS:"comments",LIKES:"likes",REACTIONS:"reactions",HISTORY:"history",NONE:""},n="_1vcf",o="_53xw",ua="preview_rid",va="comment_id",p,q,r,s,t,u,v,w,x,y=null,z=null,A=null;function B(){if(A){b.removeClass(A,n);A=null}}function wa(R){B();if(R){b.addClass(R,n);A=R}}var C=null;function D(){if(C){b.removeClass(C,o);C=null}}function E(t){D();if(t){b.addClass(t,o);C=t}}function xa(){if(u)return;v=[h.listen("click",[k,"composer-submit"],Ra),h.listen("click","like",Oa),h.listen("focus",[k,"textarea"],Ma),h.listen("multi-photos-change",null,Sa),h.listen("MCommentEdit:showcomposer",null,Ta),h.listen("MUFICommentReplyLink:show-inline-composer",null,Ua),h.listen("MStickerSelector:show-sticker-selector",null,Va),h.listen("m:page:unload",null,Aa)];if(ia.IS_APPLE_WEBKIT_IOS)v.push(h.listen("focus",[k,"editCommentTextArea"],Na));u=true}function ya(){if(!t)return;c.find(t,"*","textarea").blur()}function F(){if(!t)return;c.find(t,"*","textarea").focus()}function za(){if(!t)return;var R=c.find(t,"*","textarea");if(qa()===R)g.scrollTo(0,ja.getPos(R).y+R.offsetHeight-g.getScreenHeight())}function G(R){if(!R)return;var S=H(),T=R.offsetTop,U=R.offsetHeight,V=T+U,W=S.getScrollTop(),X=S.getScrollHeight(),Y=W+X;if(T<W||V>Y)if(T<W||U>X)N(Math.max(0,T));else N(Math.max(0,W+(V-Y)))}function H(){return d.get(s).scrollArea}function I(){if(!x)x=c.scry(document,"div",k)[0];return x}function Aa(){__p&&__p();while(v.length)v.pop().remove();J();L();B();p=null;q=null;r=null;x=null;u=false}function J(){if(!y)return;while(y.length)y.pop().remove();y=null}function Ba(R,S,T,U){__p&&__p();var V=U||{},W=V.parent_id,X=V.preload_reply_composer_uri_val,Y=V.highlighted_preload_composer_input_id;B();D();Da(T,W,Y);var Z=Q(R);O(false);if(Z===p){if(S)F();P(m.COMMENTS);h.invoke("m:feed-ufi-flyout:comments-displayed");Ya();return}p=Z;P(m.NONE);var $a=c.find(I(),"div","feed-ufi-comments").id,$=la.getURIBuilder().setString("feedback_target",Z).setString("replace_id",$a).setBool("focus_composer",!!S),ab=d.get(R).feedback_source;if(ab)$.setInt("fs",ab);var bb=d.get(R).share_id;if(bb)$.setString("share_id",bb.toString());var cb=d.get(R).action_source;if(cb===undefined)cb=20;var db=Za(R);if(db)$.setString("link_data",db);$=$.getURI();if(X)$.addQueryData(ua,X);if(Y)$.addQueryData(va,W||T);var eb=d.get(R).actor_id;if(eb)$=ga.create($,eb.toString());w=new f($.toString());w.listen("finally",function(){w=null});w.send()}function K(R){var S=i(R+"");if(S&&s&&s.contains(S)){N(S.offsetTop);return S}return null}function Ca(R){var S=R?i(R+""):null;if(S&&s&&s.contains(S)){var T=e.bySigil(S,l);if(T)return T}return null}function Da(R,S,T){__p&&__p();L();if(R)z=h.listen("m:feed-ufi-flyout:comments-displayed",null,function(){__p&&__p();setTimeout(function(){var U=!!K(R);if(!U&&S){var V=K(S),W=V&&c.scry(V,"*",ra)[0];if(W)wa(W)}var X=Ca(T);if(X)E(X)});L()})}function L(){if(z){z.remove();z=null}}function Ea(R){__p&&__p();var S=Q(R);O(true);if(S===q){P(m.LIKES);return}q=S;P(m.NONE);var T=c.find(I(),"div","feed-ufi-likes").id,U=ma.getURIBuilder().setString("feedback_target",S).setString("replace_id",T).getURI();w=new f(U.toString());w.listen("finally",function(){w=null});w.send()}function Fa(R,S,T){__p&&__p();var U=Q(R);O(!S);h.invoke("m:feed-ufi-flyout:reactions-displayed");if(U===r&&!T){P(m.REACTIONS);return}r=U;P(m.NONE);h.invoke("m:feed-ufi-flyout:cache-reset");var V=c.find(I(),"div","feed-ufi-reactions").id,W=na.getURIBuilder().setString("feedback_target",U).setString("replace_id",V).getURI();w=new f(W.toString());w.listen("finally",function(){w=null});w.send()}function Ga(R){O(true);P(m.NONE);var S=c.find(I(),"div","feed-ufi-comment-history").id,T=ka.getURIBuilder().setString("comment_token",R).setString("replace_id",S).getURI();w=new f(T.toString());w.listen("finally",function(){w=null});w.send()}function Ha(){P(m.HISTORY)}function Ia(){if(!w)return;p=null;q=null;r=null;w.abort();w=null}function Ja(){p=null;q=null;r=null}function Ka(R){var S=Q(R),T=S!==p&&S!==r;P(T?m.NONE:m.COMMENTS);if(T)h.invoke("m:feed-ufi-flyout:reset",null,{target_id:S})}function La(R,S){P(m.COMMENTS);s=R;t=S;h.invoke("m:feed-ufi-flyout:comments-displayed");Ya()}function Ma(){M()}function M(){h.invoke("click","edit-link")}function Na(R){if(y)return;var S=R.getTarget();y=[h.listen("MScrollArea:scrollend",null,function(){var T=S.selectionStart,U=S.selectionEnd;S.setSelectionRange(Math.abs(T-1),Math.abs(U-1));S.setSelectionRange(T,U)}),h.listen("blur",[k,"editCommentTextArea"],function(){J()})]}function Oa(){q=null}function Pa(R){P(m.LIKES)}function Qa(R){P(m.REACTIONS)}function Ra(event){var R=event.getNode(l);if(R)return;var S=I();j(function(){var T=c.find(S,"div","feed-ufi-composer-placeholder");N(T.offsetTop)},0);b.conditionClass(c.find(S,"div","feed-ufi-comments"),"_5jc2",true)}function Sa(){if(!t)return;var x=I();if(x)b.conditionClass(I(),"_5rpd",c.scry(t,"input","m-multi-photos-photo").length)}function Ta(R){N(R.getData().composer.offsetTop)}function Ua(R){M();var S=R.getData(),T=S.composerRoot;if(T){G(T);D();setTimeout(function(){E(T)},0)}}function Va(R){var S=R.getData(),T=S.selectorNode;G(T)}function Wa(R){h.invoke("m:feed-ufi-flyout:comment-change");N(oa(R).offsetTop)}function Xa(){h.invoke("m:feed-ufi-flyout:comment-change");var R=I();if(c.scry(R,"div","comment").length)H().reflow();else b.conditionClass(c.find(R,"div","feed-ufi-comments"),"_5jc2",false)}function N(R){if(!s)return;var S=H();S.reflow();j(function(){var T=S.getMaxScrollTop();if(R!==undefined)T=Math.min(R,T);S.scrollTo(0,T)},100)}function O(R){var S=I();if(S)b.conditionClass(S,"_5sd3",R)}function Ya(){var R=I();if(R){var S=c.scry(R,"*",sa)[0],T=c.scry(R,"*",ta)[0];if(S&&S.offsetHeight)ha.log("NullStateCommentsLoggerConfig",{event:"flyout_impression",suggestion_type:T?"sticker":null})}}function P(R){var S=I();if(S){b.conditionClass(S,"_5m_y",R==m.COMMENTS);b.conditionClass(S,"_5m_z",R==m.LIKES);b.conditionClass(S,"_3b5-",R==m.REACTIONS);b.conditionClass(S,"_5ugy",R==m.HISTORY)}}function Q(R){return d.get(R).feedback_target.toString()}function Za(R){var S=e.bySigil(R,"story-div");if(!S)return;var T=d.get(S).linkdata;if(T)return T.toString();return null}a.blur=ya;a.cancel=Ia;a.clearCache=Ja;a.focus=F;a.getRoot=I;a.init=xa;a.loadComments=Ba;a.loadLikes=Ea;a.loadReactions=Fa;a.loadCommentHistory=Ga;a.onCommentHistoryLoad=Ha;a.onCommentAdded=Wa;a.onCommentRemoved=Xa;a.onCommentsLoad=La;a.onLikesLoad=Pa;a.onReactionsLoad=Qa;a.reset=Ka;a.scrollTo=za}),null);
/**
 * License: https://www.facebook.com/legal/license/uGmcar5GMrO/
 */
__d("IntersectionObserverFallback",["TimeSlice","performanceNow","setInterval","throttle"],(function a(b,c,d,e,f,g,h,i,j,k){"use strict";__p&&__p();var l=document.documentElement,m=[];function n(r,s){var t=Math.max(r.top,s.top),u=Math.min(r.bottom,s.bottom),v=Math.max(r.left,s.left),w=Math.min(r.right,s.right),x=w-v,y=u-t;return x>=0&&y>=0?{top:t,bottom:u,left:v,right:w,width:x,height:y}:undefined}function o(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function p(r){__p&&__p();this.time=r.time;this.target=r.target;this.rootBounds=r.rootBounds;this.boundingClientRect=r.boundingClientRect;this.intersectionRect=r.intersectionRect||o();this.isIntersecting=!!r.intersectionRect;var s=this.boundingClientRect,t=s.width*s.height,u=this.intersectionRect.width*this.intersectionRect.height;if(t)this.intersectionRatio=u/t;else this.intersectionRatio=this.isIntersecting?1:0}function q(r,s){__p&&__p();this.THROTTLE_TIMEOUT=100;this.POLL_INTERVAL=null;this.$IntersectionObserverFallback12=h.guard(k(function(){__p&&__p();var w=this.$IntersectionObserverFallback14(),x=w?this.$IntersectionObserverFallback15():o();this.$IntersectionObserverFallback6.forEach(function(y){var z=y.element,A=z.getBoundingClientRect(),B=this.$IntersectionObserverFallback16(z),C=y.entry,D=w&&B&&!this.$IntersectionObserverFallback2&&this.$IntersectionObserverFallback17(z,x),E=y.entry=new p({time:i(),target:z,boundingClientRect:A,rootBounds:x,intersectionRect:D});if(!C)this.$IntersectionObserverFallback7.push(E);else if(w&&B){if(this.$IntersectionObserverFallback18(C,E))this.$IntersectionObserverFallback7.push(E)}else if(C&&C.isIntersecting)this.$IntersectionObserverFallback7.push(E)}.bind(this));if(this.$IntersectionObserverFallback7.length)this.$IntersectionObserverFallback1(this.takeRecords(),this)}.bind(this),this.THROTTLE_TIMEOUT),"IntersectionObserverFallback: checkForIntersections");this.$IntersectionObserverFallback2=false;try{var t=window.top.document}catch(u){this.$IntersectionObserverFallback2=true}var v=s||{};this.$IntersectionObserverFallback1=r;this.$IntersectionObserverFallback4=false;this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback7=[];this.$IntersectionObserverFallback8=this.$IntersectionObserverFallback9(v.rootMargin);this.thresholds=this.$IntersectionObserverFallback10(v.threshold);this.root=v.root||null;this.rootMargin=this.$IntersectionObserverFallback8.map(function(w){return w.value+w.unit}).join(" ")}q.prototype.$IntersectionObserverFallback10=function(r){var s=r||[0];if(!Array.isArray(s))s=[s];return s.sort().filter(function(t,u,v){return t!==v[u-1]})};q.prototype.$IntersectionObserverFallback9=function(r){var s=r||"0px",t=s.split(/\s+/).map(function(u){var v=/^(-?\d*\.?\d+)(px|%)$/.exec(u);return{value:parseFloat(v[1]),unit:v[2]}});t[1]=t[1]||t[0];t[2]=t[2]||t[0];t[3]=t[3]||t[1];return t};q.prototype.$IntersectionObserverFallback11=function(){__p&&__p();if(!this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=true;this.$IntersectionObserverFallback12();if(this.POLL_INTERVAL)this.$IntersectionObserverFallback5=j(this.$IntersectionObserverFallback12,this.POLL_INTERVAL);else{window.addEventListener("resize",this.$IntersectionObserverFallback12);document.addEventListener("scroll",this.$IntersectionObserverFallback12);if("MutationObserver"in window){this.$IntersectionObserverFallback3=new MutationObserver(this.$IntersectionObserverFallback12);this.$IntersectionObserverFallback3.observe(document,{attributes:true,childList:true,characterData:true,subtree:true})}}}};q.prototype.$IntersectionObserverFallback13=function(){__p&&__p();if(this.$IntersectionObserverFallback4){this.$IntersectionObserverFallback4=false;if(this.$IntersectionObserverFallback5){clearInterval(this.$IntersectionObserverFallback5);this.$IntersectionObserverFallback5=undefined}window.removeEventListener("resize",this.$IntersectionObserverFallback12);document.removeEventListener("scroll",this.$IntersectionObserverFallback12);if(this.$IntersectionObserverFallback3){this.$IntersectionObserverFallback3.disconnect();this.$IntersectionObserverFallback3=undefined}}};q.prototype.$IntersectionObserverFallback17=function(r,s){__p&&__p();if(window.getComputedStyle(r).display=="none")return undefined;var t=r.getBoundingClientRect(),u=t,v=r.parentElement,w=false;while(!w){var x=null;if(v==this.root||v&&v.nodeType!=1){w=true;x=s}else if(window.getComputedStyle(v).overflow!="visible")x=v&&v.getBoundingClientRect();if(x){u=n(x,u);if(!u)break}v=v&&v.parentElement}return u};q.prototype.$IntersectionObserverFallback15=function(){var r=void 0;if(this.root)r=this.root.getBoundingClientRect();else{var s=document.documentElement,t=document.body,u=s&&s.clientWidth||t&&t.clientWidth,v=s&&s.clientHeight||t&&t.clientHeight;r={top:0,left:0,right:u,width:u,bottom:v,height:v}}return this.$IntersectionObserverFallback19(r)};q.prototype.$IntersectionObserverFallback19=function(r){var s=this.$IntersectionObserverFallback8.map(function(u,v){return u.unit=="px"?u.value:u.value*(v%2?r.width:r.height)/100}),t={top:r.top-s[0],right:r.right+s[1],bottom:r.bottom+s[2],left:r.left-s[3],width:0,height:0};t.width=t.right-t.left;t.height=t.bottom-t.top;return t};q.prototype.$IntersectionObserverFallback18=function(r,s){var t=r&&r.isIntersecting?r.intersectionRatio||0:-1,u=s.isIntersecting?s.intersectionRatio||0:-1;if(t===u)return false;for(var v=0;v<this.thresholds.length;v++){var w=this.thresholds[v];if(w==t||w==u||w<t!==w<u)return true}return false};q.prototype.$IntersectionObserverFallback14=function(){return!this.root||l!==null&&l.contains(this.root)};q.prototype.$IntersectionObserverFallback16=function(r){var s=this.root||l;return s!==null&&s.contains(r)};q.prototype.$IntersectionObserverFallback20=function(){if(m.indexOf(this)<0)m.push(this)};q.prototype.$IntersectionObserverFallback21=function(){var r=m.indexOf(this);if(r!=-1)m.splice(r,1)};q.prototype.observe=function(r){if(this.$IntersectionObserverFallback6.some(function(s){return s.element==r}))return;this.$IntersectionObserverFallback20();this.$IntersectionObserverFallback6.push({element:r,entry:null});this.$IntersectionObserverFallback11();this.$IntersectionObserverFallback12()};q.prototype.unobserve=function(r){this.$IntersectionObserverFallback6=this.$IntersectionObserverFallback6.filter(function(s){return s.element!=r});if(!this.$IntersectionObserverFallback6.length){this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()}};q.prototype.disconnect=function(){this.$IntersectionObserverFallback6=[];this.$IntersectionObserverFallback13();this.$IntersectionObserverFallback21()};q.prototype.takeRecords=function(){var r=this.$IntersectionObserverFallback7.slice();this.$IntersectionObserverFallback7=[];return r};f.exports=q}),null);
__d("IntersectionObserver",["IntersectionObserverFallback"],(function a(b,c,d,e,f,g,h){"use strict";var i="IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype;f.exports=i?window.IntersectionObserver:h}),null);
__d("onViewportChanged",["EventListener","emptyFunction","getViewportDimensions","requestAnimationFrame"],(function a(b,c,d,e,f,g,h,i,j,k){__p&&__p();var l=[],m=false,n=null,o=void 0,p=void 0;function q(){var B=j.withoutScrollbars();return{top:0,bottom:B.height,left:0,right:B.width}}function r(B,C){var D={transform:C||i.thatReturnsArgument,callback:B,needsUpdate:true};l.push(D);y();t();return{remove:s.bind(null,D),scheduleCheck:w.bind(null,D)}}function s(B){var C=l.indexOf(B);if(C!==-1){l.splice(C,1);if(l.length===0){u();n=null}}}function t(){if(!p){p=h.listen(window,"scroll",x);o=h.listen(window,"resize",v)}}function u(){if(p){p.remove();o.remove();p=o=null}}function v(){n=null;x()}function w(B){B.needsUpdate=true;y()}function x(){l.map(function(B){return B.needsUpdate=true});y()}function y(){if(!m){m=true;k(function(){m=false;A()})}}function z(B){if(B.needsUpdate){B.needsUpdate=false;return true}return false}function A(){if(!n)n=q();var B=l.filter(z),C=B.map(function(D){return D.transform.call(null,n)});B.forEach(function(D,E){return D.callback.call(null,C[E])})}f.exports=r}),null);
__d("onRectIsWithinViewport",["onViewportChanged"],(function a(b,c,d,e,f,g,h){__p&&__p();function i(k,l){return!(k.bottom<l.top||k.top>l.bottom||k.right<l.left||k.left>l.right)}function j(k,l){__p&&__p();var m=void 0;function n(p){var q=k();return!!q&&i(q,p)}function o(p){if(m!==p){m=p;l(p)}}return h(o,n)}f.exports=j}),null);
__d("OnVisible.react",["IntersectionObserver","React","ReactDOM","WebSpeedJSExperiments","getElementRect","onRectIsWithinViewport"],(function a(b,c,d,e,f,g,h,i,j,k,l,m){"use strict";__p&&__p();var n=i.PropTypes,o=i.createClass({displayName:"OnVisible",propTypes:{onVisible:n.func,onHidden:n.func,buffer:n.number},componentDidMount:function p(){this._create()},componentDidUpdate:function p(){this._create()},componentWillUnmount:function p(){this._remove()},reset:function p(){this._remove();this._create()},check:function p(){if(this._listener)this._listener.scheduleCheck()},_create:function p(){if(k.i10s_io_on_visible)this._createObserver();else this._createListener()},_remove:function p(){if(k.i10s_io_on_visible)this._removeObserver();else this._removeListener()},_measureElementRect:function p(){__p&&__p();if(!this.isMounted())return null;var q=this.props.buffer||0,r=j.findDOMNode(this),s=l(r);if(s.left===0&&s.right===0&&s.top===0&&s.bottom===0)return null;s.left-=q;s.right+=q;s.top-=q;s.bottom+=q;return s},_createListener:function p(){var q=j.findDOMNode(this);if(this._listener&&q!==this._element)this._removeListener();if(!this._listener){this._element=q;this._listener=m(this._measureElementRect,function(r){var s=r?this.props.onVisible:this.props.onHidden;s&&s()}.bind(this))}},_removeListener:function p(){if(this._listener){this._listener.remove();this._listener=null}},_createObserver:function p(){__p&&__p();var q=j.findDOMNode(this);if(this._observer&&q!==this._element)this._removeObserver();if(!this._observer){var r={rootMargin:this.props.buffer?this.props.buffer+"px":"0px"};this._element=q;this._observer=new h(function(s){s.forEach(function(t){if(t.target===this._element){var u=t.intersectionRatio>0?this.props.onVisible:this.props.onHidden;u&&u()}}.bind(this))}.bind(this),r);this._observer.observe(q)}},_removeObserver:function p(){if(this._observer){this._observer.unobserve(this._element);this._observer.disconnect();this._observer=undefined}},render:function p(){return i.Children.only(this.props.children)}});f.exports=o}),null);
__d("XPagesManagerPostAttributionSettingsController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/{page_token}/settings/post_attribution/",{page_token:{type:"String",required:true},business_id:{type:"Int"}})}),null);
__d("XUFIActorChangeController",["XController"],(function a(b,c,d,e,f,g){f.exports=c("XController").create("/ufi/actor/change/",{})}),null);
__d("MUFIActorSelector.react",["ActorURI","MLegacyDataStore","MActorListPayloadTypes","MActorListStore","MActorSelector.react","MActorSelectorNuxDispatcher","MActorSelectorNuxPayloadTypes","MActorSelectorNuxStore","MFeedUFI","MParent","MRequest","OnVisible.react","React","ReactDOM","ReactComponentWithPureRenderMixin","SubscriptionsHandler","XPagesManagerPostAttributionSettingsController","XUFIActorChangeController","fbt","invariant"],(function a(b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A){__p&&__p();var B=t.PropTypes,C=t.createClass({displayName:"MUFIActorSelector",mixins:[v],propTypes:{feedbackTargetID:B.string.isRequired,location:B.string.isRequired,initialSelectedActorID:B.string.isRequired,initialSelectedActorProfilePicURI:B.string.isRequired,settingsURI:B.string},getInitialState:function D(){return{isVisible:false,selectedActorID:this.props.initialSelectedActorID,selectedActorProfilePicURI:this.props.initialSelectedActorProfilePicURI,showLoadingIndicator:false,showNux:false}},render:function D(){return t.createElement(s,{onVisible:function(){return this.setState({isVisible:true})}.bind(this),onHidden:function(){return this.setState({isVisible:false})}.bind(this)},t.createElement(l,{actorListID:this.props.feedbackTargetID,actorListRequestPayloadType:j.REQUEST_UFI_ACTOR_LIST,coverEnabled:false,flyoutTitle:this._getFlyoutTitle(),nuxBody:this._getNuxBody(),onChange:this._onChange,onCompleteNux:this._onCompleteNux,selectedActorID:this.state.selectedActorID,selectedActorProfilePicURI:this.state.selectedActorProfilePicURI,settingsURI:this._getSettingsURI(),showLoadingIndicator:this.state.showLoadingIndicator,showNux:this.state.isVisible&&this.state.showNux}))},_subscriptionsHandler:null,componentDidMount:function D(){this._subscriptionsHandler=new w();this._subscriptionsHandler.addSubscriptions(o.addListener("change",function(){var E=o.canShowUFINux(this.props.feedbackTargetID);if(!this.state.showNux&&E)this.setState({showNux:true});else if(this.state.showNux&&!E)this.setState({showNux:false})}.bind(this)));if(this.props.location==="timeline")m.dispatch({data:{actorSelectorID:this.props.feedbackTargetID},type:n.REQUEST_UFI_NUX_STATUS})},componentWillUnmount:function D(){if(this._subscriptionsHandler){this._subscriptionsHandler.release();this._subscriptionsHandler=null}},_getFlyoutTitle:function D(){return z._("Liking and commenting as:")},_onChange:function D(E){__p&&__p();this.setState({selectedActorID:E,showLoadingIndicator:true});var F=h.create(y.getURIBuilder().getURI(),E),G=new r(F).setMethod("POST"),H={from_actor_id:this.state.selectedActorID,ft_ent_identifier:this.props.feedbackTargetID,location:this.props.location};G.setData(H);G.listen("done",this._createActorChangeSuccessHandler(E));G.listen("error",this._createActorChangeErrorHandler());G.send();var I=u.findDOMNode(this);if(I instanceof Element){var J=q.bySigil(I,"feed-ufi-metadata");if(J){var K=k.getActorData(E);K||A(0);i.set(J,{actor_id:E,actor_name:K.name})}}p.clearCache()},_createActorChangeSuccessHandler:function D(E){return function(){var F=k.getActorData(E);F||A(0);this.setState({selectedActorID:E,selectedActorProfilePicURI:F.profilePicURI,showLoadingIndicator:false})}.bind(this)},_createActorChangeErrorHandler:function D(){var E=this.state.selectedActorID,F=this.state.selectedActorProfilePicURI;return function(){this.setState({selectedActorID:E,selectedActorProfilePicURI:F,showLoadingIndicator:false})}.bind(this)},_getNuxBody:function D(){return z._("Like, comment or share as yourself or as one of the Pages that you manage.")},_getSettingsURI:function D(){return x.getURIBuilder().setString("page_token",this.props.feedbackTargetOwnerID).getURI()},_onCompleteNux:function D(){m.dispatch({type:n.UFI_NUX_SEEN})}});f.exports=C}),null);
__d("MPhotoComments",["cx","Stratcom"],(function a(b,c,d,e,f,g,h,i){var j={init:function k(l,m){this.root=l;this.cameraColumn=m;i.listen("MMultiPhotoUploader:attachments:change",null,function(event){var n=event.getData(),o=n.uploaded>0||n.sending!==0;this.cameraColumn.className=o?"_5aqy _5yfq":"_5aqy"}.bind(this))}};f.exports=j}),null);
__d("MFeedbackMarauderLogger",["setTimeoutAcrossTransitions","MarauderLogger","Stratcom"],(function a(b,c,d,e,f,g,h,i,j){__p&&__p();var k=10*60*1e3,l,m,n,o,p,q;function r(v,w){i.log(v,undefined,w)}function s(){q=null;p=false;u()}function t(){l++;s()}function u(){if(m){window.clearTimeout(m);m=null}}j.listen("click","marauder-like",function(){r("like",{is_like:1})});j.listen("click","marauder-unlike",function(){r("like",{is_like:0})});j.listen("submit","marauder-composer-submit",function(){r("comment")});j.listen("marauder-fb-composer-init",null,function(event){var v=event.getData()||{};o=v.parent_fbid||-1;l=0;n=Date.now();s()});j.listen("marauder-feedback-posted",null,function(){if(o){r("comment_posted",{parent_fbid:o,written_time:q,clearcounter:l,loaded_time:n});t()}});j.listen("marauder-feedback-input",null,function(event){__p&&__p();if(o){var v=event.getData()||{},w=v.draft.replace(" ","");if(w.length>=5&&!p){r("comment_written",{parent_fbid:o,clearcounter:l,loaded_time:n});q=Date.now();p=true;m=h(function(){t()},k)}}})}),null);